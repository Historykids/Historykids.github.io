<!DOCTYPE html>
<html lang="ja">
<head>
  <!-- Google tag (gtag.js) â†’ 1å›ã ã‘èª­ã¿è¾¼ã¿ã€2ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¸é€ä¿¡ -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-EZP12GC8W1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-EZP12GC8W1');  // ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£1
    gtag('config', 'G-6Z9WN4HFK5');  // ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£2
  </script>

  <!-- AdSenseï¼ˆ1å›ã ã‘ï¼‰ -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4922140858632050" crossorigin="anonymous"></script>

  <!-- æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆWebSiteï¼‰ -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"æ­´å²ã‚­ãƒƒã‚º",
    "url":"https://historykids.github.io/",
    "inLanguage":"ja"
  }
  </script>

  <!-- æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆFAQï¼‰ -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "inLanguage":"ja",
    "mainEntity":[
      {"@type":"Question","name":"å¯¾è±¡ã¯å°å­¦ç”Ÿã§ã™ã‹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ã¯ã„ã€‚ã§ã™ãŒã€å¹´å°‘ã€œå°å­¦æ ¡ä½å­¦å¹´ã§ã‚‚éŠã³ãªãŒã‚‰æ­´å²ã«è¦ªã—ã‚ã‚‹ã‚ˆã†ã«ã€ã²ã‚‰ãŒãªã‚¯ã‚¤ã‚ºã‚„å›³é‘‘ï¼ˆå¹´è¡¨ï¼‰ã§ã‚„ã•ã—ãå­¦ã¹ã¾ã™ã€‚"}},
      {"@type":"Question","name":"ç„¡æ–™ã§ä½¿ãˆã¾ã™ã‹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ç„¡æ–™ã§åˆ©ç”¨ã§ãã¾ã™ã€‚ã‚µã‚¤ãƒˆä¸‹éƒ¨ã«åºƒå‘ŠãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚"}},
      {"@type":"Question","name":"ã©ã‚“ãªå­¦ç¿’å†…å®¹ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"æ±Ÿæˆ¸æ™‚ä»£ãƒ»æˆ¦å›½æ™‚ä»£ãƒ»å®¤ç”ºæ™‚ä»£ãƒ»éŒå€‰æ™‚ä»£ã®ä¸»è¦ãªå‡ºæ¥äº‹ã‚’ã€å¹´ã¨å‡ºæ¥äº‹ã‚’çµã³ã¤ã‘ã‚‹ã‚¯ã‚¤ã‚ºã€å¹´è¡¨ã®æ‹¡å¼µè¡¨ç¤ºã€ã‚«ãƒ¼ãƒ‰åé›†ã¨è¡—ã¥ãã‚Šæ¼”å‡ºã§å­¦ã¹ã¾ã™ã€‚"}},
      {"@type":"Question","name":"è‡ªç”±ç ”ç©¶ã«ä½¿ãˆã¾ã™ã‹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ã¯ã„ã€‚æ­´å²äººç‰©ã‚„å¹´è¡¨ã‚’ã¾ã¨ã‚ã¦è‡ªç”±ç ”ç©¶ã‚„èª¿ã¹å­¦ç¿’ã«æ´»ç”¨ã§ãã¾ã™ã€‚"}},
      {"@type":"Question","name":"æˆ¦å›½æ™‚ä»£ã‚„å¹•æœ«ã‚‚å­¦ã¹ã¾ã™ã‹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ç¾åœ¨ã¯æ±Ÿæˆ¸ãƒ»æˆ¦å›½ãƒ»å®¤ç”ºãƒ»éŒå€‰ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚å¹•æœ«ã®è¿½åŠ ã‚‚æº–å‚™ä¸­ã§ã™ã€‚"}},
      {"@type":"Question","name":"ã‚¹ãƒãƒ›ã‚„ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã‚‚ä½¿ãˆã¾ã™ã‹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ã¯ã„ã€‚ç¸¦ç”»é¢ãƒ»1ç”»é¢ã§éŠã¹ã‚‹ã‚ˆã†æœ€é©åŒ–ã—ã¦ã„ã¾ã™ã€‚"}}
    ]
  }
  </script>

  <!-- Search Console æ‰€æœ‰æ¨© -->
  <meta name="google-site-verification" content="bgJFyYeBgPsces8Rz5ONG_d-nj8ZEH_fHddcwAXMX0U" />

  <meta charset="UTF-8" />
  <!-- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®ãŸã‚ã‚ºãƒ¼ãƒ åˆ¶é™ã‚’æ’¤å»ƒ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- SEO -->
  <title>æ­´å²ã‚­ãƒƒã‚ºï½œå°å­¦ç”Ÿå‘ã‘æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆï¼ˆæ±Ÿæˆ¸ãƒ»æˆ¦å›½ãƒ»å®¤ç”ºãƒ»éŒå€‰ï¼‰ã‚¯ã‚¤ã‚ºï¼å¹´è¡¨ï¼ã‚«ãƒ¼ãƒ‰ã§ç”ºã¥ãã‚Šï¼</title>
  <meta name="description" content="æ­´å²ã‚­ãƒƒã‚ºã¯å°å­¦ç”Ÿå‘ã‘ã®æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆã€‚æ±Ÿæˆ¸ãƒ»æˆ¦å›½ãƒ»å®¤ç”ºãƒ»éŒå€‰ã®å‡ºæ¥äº‹ã‚’ã‚¯ã‚¤ã‚ºï¼å¹´è¡¨ï¼ã‚«ãƒ¼ãƒ‰é›†ã‚ã®è¡—ã¥ãã‚Šã§æ¥½ã—ãå­¦ã¹ã¾ã™ã€‚ã‚¹ãƒãƒ›å¯¾å¿œãƒ»ç„¡æ–™ã€‚">
  <link rel="canonical" href="https://historykids.github.io/">

  <!-- OGP -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://historykids.github.io/" />
  <meta property="og:title" content="æ¥½ã—ãå­¦ã¹ã‚‹ï¼å°å­¦ç”Ÿå‘ã‘æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆï½œæ­´å²ã‚­ãƒƒã‚º" />
  <meta property="og:description" content="æ±Ÿæˆ¸ãƒ»æˆ¦å›½ãƒ»å®¤ç”ºãƒ»éŒå€‰ã®å‡ºæ¥äº‹ã‚’ã‚«ãƒ¼ãƒ‰ã‚’é›†ã‚ãªãŒã‚‰å­¦ã¹ã‚‹ã€å­ä¾›å‘ã‘ã®æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆã€‚éŠã³ãªãŒã‚‰æ­´å²ã«è¦ªã—ã‚‚ã†ï¼" />
  <meta property="og:image" content="https://historykids.github.io/thumbnail.png" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="æ¥½ã—ãå­¦ã¹ã‚‹ï¼å°å­¦ç”Ÿå‘ã‘æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆï½œæ­´å²ã‚­ãƒƒã‚º" />
  <meta name="twitter:description" content="æ±Ÿæˆ¸ãƒ»æˆ¦å›½ãƒ»å®¤ç”ºãƒ»éŒå€‰ã®å‡ºæ¥äº‹ã‚’ã‚«ãƒ¼ãƒ‰ã‚’é›†ã‚ãªãŒã‚‰å­¦ã¹ã‚‹ã€å­ä¾›å‘ã‘ã®æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆã€‚" />
  <meta name="twitter:image" content="https://historykids.github.io/thumbnail.png" />

  <style>
  :root{
    --edo-yellow:#FCD34D; --edo-info:#FFF8DC; --edo-border:#999;
    --bg:#FFF6E3; --shadow:rgba(0,0,0,.12); --ink:#222; --adbg:#f1f1f1;
  }
  *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
  html,body{height:100%}
  body{
    margin:0;background:var(--bg);color:var(--ink);
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,
      "Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic",Meiryo,sans-serif;
  }
  h2{ font-size:clamp(18px,3.5vw,22px); line-height:1.3; }

  .wrap{display:flex;flex-direction:column;min-height:100svh;}
  header{
    position:sticky;top:0;z-index:3;
    background:linear-gradient(180deg,var(--edo-yellow),#fde68a);
    padding:10px 12px;display:flex;gap:8px;align-items:center;justify-content:space-between;
    box-shadow:0 1px 4px var(--shadow);flex-wrap:wrap;
  }
  header h1.siteTitle{
    flex:1 1 100%;font-size:clamp(16px,2.6vw,22px);line-height:1.2;margin:0 0 6px 0;
    overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;
  }
  header .controls{width:100%;display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  header button, header select{
    border:0;border-radius:10px;background:#fff;padding:6px 12px;
    font-weight:700;box-shadow:0 1px 3px var(--shadow);cursor:pointer
  }
  #resetBtn{background:#ffeaea}

  #intro{padding:10px 12px;background:#fff;}
  #info{
    padding:10px;background:var(--edo-info);border-bottom:1px solid #ccc;
    font-size:15px;min-height:40px
  }
  #town{
    position:relative;width:100%;
    height:clamp(260px, 44vh, 520px); /* ãƒ¢ãƒã‚¤ãƒ«å„ªå…ˆ */
    background:#fff;border-top:2px solid var(--edo-border);border-bottom:2px solid var(--edo-border);overflow:hidden
  }
  /* PCã§å°‘ã—åºƒã‚ã« */
  @media (min-width: 1024px){
    #town{ height:clamp(320px, 50vh, 640px); }
  }

  /* ã‚«ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢ï¼šãƒ¢ãƒã‚¤ãƒ«å„ªå…ˆã®Gridã€PCã§åˆ—æ•°UP */
  #cards{
    display:grid;gap:10px;padding:10px;
    grid-template-columns:repeat(auto-fill, minmax(92px, 1fr));
  }
  @media (min-width: 768px){
    #cards{ grid-template-columns:repeat(auto-fill, minmax(120px, 1fr)); }
  }
  .card{
    height:120px;border-radius:12px;background:#ddd;
    display:flex;align-items:center;justify-content:center;font-weight:700;font-size:15px;
    cursor:pointer;box-shadow:0 2px 6px var(--shadow);user-select:none;text-align:center;padding:6px;
    transition:transform .2s, box-shadow .2s
  }
  .card:hover{transform:scale(1.03);box-shadow:0 4px 12px var(--shadow)}
  .card.done{background:#cdeccd;color:#1a5e1a} /* â† é‡è¤‡ã¯å‰Šé™¤æ¸ˆã¿ */

  .building{position:absolute;font-size:34px;opacity:0;transform:scale(.8);transition:opacity .7s, transform .7s}
  .show{opacity:1;transform:scale(1.2)}
  .villager{position:absolute;font-size:20px;animation:walk 8s linear infinite}
  @keyframes walk{0%{left:2%}50%{left:90%}100%{left:2%}}

  #zukanPanel{position:fixed;inset:0 0 auto 0;height:72%;top:-100%;background:#fff;
    border-bottom:3px solid #333;box-shadow:0 4px 16px var(--shadow);
    transition:top .45s ease;z-index:5;overflow:auto}
  #zukanPanel.active{top:0}
  #zukanHead{position:sticky;top:0;background:#fff;padding:10px;border-bottom:1px solid #eee;
    display:flex;align-items:center;gap:8px}
  #zukanHead h2{margin:0;font-size:18px}
  #closeZukan{margin-left:auto;border:0;background:#eee;border-radius:8px;padding:6px 12px;cursor:pointer}
  .zukanSec{padding:10px}
  .zukanSec h3{margin:8px 0}
  .zCard{display:inline-flex;align-items:center;justify-content:center;width:96px;height:116px;margin:4px;
    border:1px solid #ccc;border-radius:8px;box-shadow:0 1px 3px var(--shadow);white-space:pre-line;text-align:center;padding:6px}
  .locked{background:#eee;color:#999}
  #completeMsg{font-size:18px;font-weight:800;color:green;text-align:center;padding:10px}

  .petal{position:fixed;top:-10px;font-size:20px;animation:fall linear forwards;pointer-events:none}
  @keyframes fall{to{transform:translateY(110vh) rotate(360deg);opacity:0}}

  .adbar{position:sticky;bottom:0;background:var(--adbg);border-top:1px solid #ddd;
    padding:4px 8px;display:flex;justify-content:center;align-items:center;min-height:52px}
  .adslot{width:100%;max-width:728px;height:50px;background:
    repeating-linear-gradient(45deg,#eee,#eee 8px,#e2e2e2 8px,#e2e2e2 16px);
    border:1px dashed #bbb;border-radius:8px;display:flex;align-items:center;justify-content:center;
    font-size:12px;color:#666}
  footer{height:8px}

  .landscapeWarn{
    position:fixed;inset:0;background:rgba(0,0,0,.65);color:#fff;display:none;
    align-items:center;justify-content:center;z-index:20;text-align:center;padding:20px
  }
  /* å°ç”»é¢ã®æ¨ªå‘ãã ã‘è­¦å‘Šã€‚PCã¯è¡¨ç¤ºã—ãªã„ */
  @media (orientation:landscape) and (max-width: 768px){ .landscapeWarn{display:flex} }

  ruby rt{font-size:.7em;color:#444}
  .yr{font-weight:800;margin-right:2px}

  /* ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³å¼±ã‚è¨­å®šã«é…æ…® */
  @media (prefers-reduced-motion: reduce){
    .card:hover{transform:none}
    .building,.petal{transition:none;animation:none}
  }
  </style>
</head>

<body>
<div class="wrap">
  <header>
    <h1 class="siteTitle">æ­´å²ã‚­ãƒƒã‚ºï½œæ¥½ã—ãå­¦ã¹ã‚‹ï¼å°å­¦ç”Ÿå‘ã‘æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆ</h1>

    <div class="controls">
      <label for="eraSelect" style="font-size:12px">æ™‚ä»£ï¼š</label>
      <select id="eraSelect" title="æ™‚ä»£ã‚’ãˆã‚‰ã¶">
        <option value="edo">æ±Ÿæˆ¸æ™‚ä»£</option>
        <option value="muromachi">å®¤ç”ºæ™‚ä»£</option>
        <option value="kamakura">éŒå€‰æ™‚ä»£</option>
        <option value="sengoku">æˆ¦å›½æ™‚ä»£</option>
      </select>

      <select id="chapterFilter" title="ç« ã‚’ãˆã‚‰ã¶">
        <option value="ALL">ç« ï¼šãœã‚“ã¶</option>
      </select>

      <button id="zukanBtn" aria-controls="zukanPanel" aria-expanded="false">å›³é‘‘</button>
      <button id="resetBtn" title="é€²æ—ã‚’å…¨éƒ¨æ¶ˆã—ã¦æœ€åˆã‹ã‚‰">ãƒªã‚»ãƒƒãƒˆ</button>
    </div>
  </header>

  <section id="intro">
    <p style="margin:0 0 8px;">
      å°å­¦ç”Ÿå‘ã‘ã®<span style="font-weight:700;">æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆ</span>ã§ã™ã€‚<br>
      <b>æ±Ÿæˆ¸ãƒ»æˆ¦å›½ãƒ»å®¤ç”ºãƒ»éŒå€‰</b>ã®å‡ºæ¥äº‹ã‚’ã€<b>ã‚¯ã‚¤ã‚º</b>ã¨<b>å¹´è¡¨</b>ã€<b>ã‚«ãƒ¼ãƒ‰é›†ã‚</b>ã§æ¥½ã—ãå­¦ã¹ã¾ã™ï¼ˆã‚¹ãƒãƒ›å¯¾å¿œãƒ»ç„¡æ–™ï¼‰ã€‚
    </p>
    <h2>æˆ¦å›½æ™‚ä»£ã®æ­´å²ã‚’å‹‰å¼·ã§ãã‚‹ã‚¯ã‚¤ã‚º</h2>
    <h2>æ±Ÿæˆ¸æ™‚ä»£ã®æ­´å²ã‚’å‹‰å¼·ã§ãã‚‹ã‚¯ã‚¤ã‚º</h2>
    <h2>å®¤ç”ºæ™‚ä»£ã®æ­´å²ã‚’å‹‰å¼·ã§ãã‚‹ã‚¯ã‚¤ã‚º</h2>
    <h2>éŒå€‰æ™‚ä»£ã®æ­´å²ã‚’å‹‰å¼·ã§ãã‚‹ã‚¯ã‚¤ã‚º</h2>
    <h2>å¹´è¡¨ãƒ»å›³é‘‘ã§æ­´å²äººç‰©ã‚’ãƒã‚§ãƒƒã‚¯</h2>
    <h2>è‡ªç”±ç ”ç©¶ã‚„ãƒ†ã‚¹ãƒˆå‹‰å¼·ã«ã‚‚å½¹ç«‹ã¤</h2>

    <nav style="display:flex;gap:8px;flex-wrap:wrap;">
      <a href="#cards" id="playEdo" style="display:inline-block;background:#fcd34d;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#222;">æ±Ÿæˆ¸æ™‚ä»£ã§éŠã¶</a>
      <a href="#cards" id="playSengoku" style="display:inline-block;background:#f6d5a4;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#222;">æˆ¦å›½æ™‚ä»£ã§éŠã¶</a>
      <a href="#cards" id="playMuromachi" style="display:inline-block;background:#fde68a;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#222;">å®¤ç”ºæ™‚ä»£ã§éŠã¶</a>
      <a href="#cards" id="playKamakura" style="display:inline-block;background:#f9e2af;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#222;">éŒå€‰æ™‚ä»£ã§éŠã¶</a>
      <a href="#zukanPanel" id="openZukan" style="display:inline-block;background:#e5e7eb;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#111;">å›³é‘‘ï¼ˆå¹´è¡¨ï¼‰ã‚’è¦‹ã‚‹</a>
    </nav>
  </section>

  <!-- PRï¼šãŠã™ã™ã‚ã®æœ¬ï¼ˆãƒ‰ãƒ©ãˆã‚‚ã‚“ï¼‰ -->
  <div class="promoBar" role="note" aria-label="ãŠã™ã™ã‚ã®æœ¬ï¼ˆPRï¼‰" style="background:#fffbe6;border-bottom:1px solid #e6d400;padding:8px 12px;display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap;box-shadow:0 1px 3px rgba(0,0,0,.08);">
    <b style="color:#b58900;">PR</b>
    <span class="title" style="font-weight:700;">æ­´å²å…¥é–€ã«ã´ã£ãŸã‚Šï¼<strong>ãƒ‰ãƒ©ãˆã‚‚ã‚“ã®ç¤¾ä¼šç§‘ãŠã‚‚ã—ã‚æ”»ç•¥ æ—¥æœ¬ã®æ­´å²</strong>ï¼ˆå°å­¦é¤¨ï¼‰</span>
    <a id="promoLink" class="button"
       href="https://amzn.asia/d/bu7qdsv"
       target="_blank" rel="noopener sponsored nofollow"
       style="display:inline-block;background:#ffd814;color:#111;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;box-shadow:0 1px 3px rgba(0,0,0,.15);">
       Amazonã§è¦‹ã‚‹
    </a>
    <small style="color:#666;">â€»å½“ã‚µã‚¤ãƒˆã¯ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆåºƒå‘Šã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™</small>
  </div>

  <div id="info" role="status" aria-live="polite">æ™‚ä»£ã‚’ãˆã‚‰ã‚“ã§ã‚«ãƒ¼ãƒ‰ã‚’ã‚ãã‚ã†ï¼ ã€‡ã®éƒ¨åˆ†ã ã‘ã‚’ã€Œã²ã‚‰ãŒãªã€ã§ç­”ãˆã‚‹ã¨é–‹ãã‚ˆã€‚</div>
  <div id="town" role="img" aria-label="ç”ºã‚¨ãƒªã‚¢"></div>
  <div id="cards" aria-label="ã‚«ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢"></div>

  <section id="zukanPanel" aria-hidden="true">
    <div id="zukanHead">
      <h2>ã‚«ãƒ¼ãƒ‰å›³é‘‘ï¼ˆç« ã”ã¨ï¼‰</h2>
      <button id="closeZukan" aria-label="å›³é‘‘ã‚’ã¨ã˜ã‚‹">ã¨ã˜ã‚‹</button>
    </div>
    <div id="zukanList"></div>
    <div id="completeMsg"></div>
  </section>

  <!-- ä¸‹éƒ¨ã®å›ºå®šãƒãƒŠãƒ¼æ ï¼ˆå¿…è¦ãªã‚‰ä¸­èº«ã‚’ ad ãƒ¦ãƒ‹ãƒƒãƒˆã«å·®ã—æ›¿ãˆï¼‰ -->
  <div class="adbar" aria-label="åºƒå‘Šæ ">
    <div class="adslot">åºƒå‘Šã‚¹ãƒšãƒ¼ã‚¹ï¼ˆ<ins class="adsbygoogle">â€¦</ins> ã‚’å…¥ã‚Œã‚‹å ´æ‰€ï¼‰</div>
  </div>
  <footer aria-hidden="true"></footer>
</div>

<div class="landscapeWarn">ç¸¦å‘ãã§éŠã‚“ã§ã­ğŸ”„</div>

<!-- ã‚¯ã‚¤ã‚ºç”¨ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="quizModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:30">
  <div class="modal-bg" id="quizBg" style="position:absolute;inset:0;background:rgba(0,0,0,.5)"></div>
  <div class="modal-box" style="position:relative;z-index:1;width:min(92vw,560px);background:#fff;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.2);padding:14px">
    <div id="quizTitle" class="quiz-title" style="font-weight:800;font-size:16px;margin:0 0 6px 0"></div>
    <p class="quiz-instruction" style="font-size:14px;margin:6px 0 10px 0;color:#444">
      ã€‡ã®ã¨ã“ã‚ã ã‘ã‚’ <b>ã²ã‚‰ãŒãª</b> ã§ã“ãŸãˆã¦ã­ã€‚<br>
      ç©ºæ¬„ãŒã„ãã¤ã‹ã‚ã‚‹ã¨ãã¯ <b>ã‚¹ãƒšãƒ¼ã‚¹ / ãƒ» / ã€ / ï¼</b> ã§åŒºåˆ‡ã£ã¦OKã€‚
      <span id="quizHint" style="color:#666"></span>
    </p>
    <input id="quizInput" type="text" inputmode="text" autocomplete="off"
           placeholder="ã“ã“ã« ã²ã‚‰ãŒãª ã‚’å…¥åŠ›ï¼ˆä¾‹ï¼šã¦ã‚“ã½ã†ï¼‰"
           style="width:100%;padding:10px 12px;font-size:16px;border:1px solid #ccc;border-radius:10px" />
    <div class="quiz-actions" style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px">
      <button id="quizCancel" style="border:0;border-radius:10px;padding:8px 14px;background:#eee;cursor:pointer;box-shadow:0 1px 3px var(--shadow);transition:background .2s, transform .2s">ã‚„ã‚ã‚‹</button>
      <button id="quizOk" style="border:0;border-radius:10px;padding:8px 14px;background:#cdeccd;color:#145f14;font-weight:700;cursor:pointer;box-shadow:0 1px 3px var(--shadow);transition:background .2s, transform .2s">æ±ºå®š</button>
    </div>
  </div>
</div>

<script>
/* =========================================================
   ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆï¼ˆæ±Ÿæˆ¸ï¼å®¤ç”ºï¼éŒå€‰ï¼æˆ¦å›½ï¼‰
   - 1401 å‹˜åˆè²¿æ˜“ã®ã€‡ã¯ç¾çŠ¶ç¶­æŒ
   - è¡¨ç¤ºã®ãƒ«ãƒ“ã¯ ruby ãƒãƒƒãƒ—å´ã§ä»˜ä¸ï¼ˆã‚­ãƒ¼ã¯ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼‰
   ========================================================= */
const dataSets = {
  /* ---------- æ±Ÿæˆ¸æ™‚ä»£ ---------- */
  edo: {
    title: "æ±Ÿæˆ¸æ™‚ä»£",
    LS_KEY: "cards_edo_complete_v1",
    chapters: {
      "åˆæœŸ": {
        "1603 ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": { text: "å®¶åº·ãŒå°†è»ã«ãªã‚Šã€æ±Ÿæˆ¸ã§å›½ã®ä¸­å¿ƒãŒå‹•ãå‡ºã™ã€‚", icon: "ğŸ¯", year: 1603 },
        "1615 ã€‡ã€‡ã€‡ã€‡ã®é™£":       { text: "å¤§ããªãŸãŸã‹ã„ãŒçµ‚ã‚ã‚Šã€è±Šè‡£ã®æ™‚ä»£ã«å¹•ã€‚", icon: "âš”ï¸", year: 1615 },
        "1635 ã€‡ã€‡ã€‡ã€‡äº¤ä»£":          { text: "å¤§åã¯å›½ã¨æ±Ÿæˆ¸ã‚’è¡Œãæ¥ã™ã‚‹ãã¾ã‚Šã«ã€‚", icon: "ğŸš¶", year: 1635 },
        "1637 å³¶ã€‡ã€‡ãƒ»å¤©ã€‡ã€‡ã®ä¹±":  { text: "ä¹å·ã§å¤§ããªä¸€æ†ãŒèµ·ãã‚‹ã€‚", icon: "ğŸ”¥", year: 1637 },
        "1639 ã€‡ã€‡ã€‡ã€‡ã€‡èˆ¹ã®æ¥èˆªç¦æ­¢": { text: "å¤–å›½èˆ¹ã®å‡ºå…¥ã‚Šã‚’ã—ã‚ã¦ã€äº¤æµã‚’ã›ã„ã’ã‚“ã€‚", icon: "â›µ", year: 1639 },
        "1641 ã€‡ã€‡ã€‡ã§ã®è²¿æ˜“":      { text: "ã‚ªãƒ©ãƒ³ãƒ€å•†é¤¨ãŒé•·å´ã®å‡ºå³¶ã¸ã€‚", icon: "ğŸï¸", year: 1641 },
        "1657 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç«":      { text: "æ±Ÿæˆ¸ã®ç”ºãŒå¤§ç«äº‹ã€‚ç”ºã¥ãã‚Šã‚’ç«‹ã¦ç›´ã™ã€‚", icon: "ğŸ”¥", year: 1657 },
        "1657 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã¸ç§»è»¢":  { text: "éŠéƒ­ãŒæµ…è‰åƒæŸã®æ–°ã—ã„å ´æ‰€ã¸ã€‚", icon: "ğŸ®", year: 1657 }
      },
      "ä¸­æœŸ": {
        "1688 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": { text: "ç”ºäººã®æ–‡åŒ–ãŒèŠ±ã²ã‚‰ãã€‚æ­Œèˆä¼ã‚„æµ®ä¸–çµµãŒäººæ°—ã€‚", icon: "ğŸ­", year: 1688 },
        "1716 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©":         { text: "å‰å®—ãŒãã‚‰ã—ã¨è²¡æ”¿ã‚’ç«‹ã¦ç›´ã™å·¥å¤«ã‚’ã¯ã˜ã‚ã‚‹ã€‚", icon: "ğŸ“œ", year: 1716 },
        "1720 ã€‡ã€‡ã€‡ã€‡ã‚’ã¨ã‚Šã„ã‚Œã‚‹":   { text: "æµ·å¤–ã®å­¦ã³ãŒåºƒãŒã‚Šã€çŸ¥è­˜ãŒãµãˆã‚‹ã€‚", icon: "ğŸ“š", year: 1720 },
        "1720 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ã—ãã¿":     { text: "ç«äº‹ã«ããªãˆã‚‹ç”ºäººã®çµ„ãŒã§ãã‚‹ã€‚", icon: "ğŸš’", year: 1720 },
        "1730 ã€‡ã€‡ã®ãªãŒã‚Œã‚’æ•´ãˆã‚‹":   { text: "å•†ã„ã®ãã¾ã‚Šã‚’ã¨ã¨ã®ãˆã€ç”ºã‚’å…ƒæ°—ã«ã€‚", icon: "ğŸ§º", year: 1730 },
        "1775 ã€‡ã€‡ã€‡ã®æ™‚ä»£":           { text: "å•†ã„ã‚’æ´»ã‹ã™æ”¿æ²»ã§ãŠé‡‘ã®æµã‚Œã‚’ã‚ˆãã™ã‚‹è©¦ã¿ã€‚", icon: "ğŸ’¹", year: 1775 },
        "1783 ã€‡ã€‡ã€‡ã€‡ã®ããã‚“":       { text: "å¯’ã•ã‚„ä¸ä½œã§é£Ÿã¹ç‰©ãŒãŸã‚Šãªããªã‚‹ã€‚", icon: "ğŸŒ¾", year: 1783 }
      },
      "å¹•æœ«": {
        "1787 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©":         { text: "ãã‚‰ã—ã‚’ã²ãã—ã‚ã€æ•™è‚²ã‚‚å¤§åˆ‡ã«ã™ã‚‹æ–¹é‡ã€‚", icon: "ğŸ“", year: 1787 },
        "1825 ã€‡ã€‡ã€‡ã€‡ã€‡æ‰“æ‰•ä»¤":       { text: "è¿‘ã¥ãå¤–å›½èˆ¹ã‚’è¿½ã„ã¯ã‚‰ã†ãã¾ã‚Šã€‚", icon: "ğŸ“£", year: 1825 },
        "1837 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±": { text: "å¤§é˜ªã§äººã³ã¨ã®è‹¦ã—ã•ãŒçˆ†ç™ºã€‚", icon: "âš ï¸", year: 1837 },
        "1841 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©":           { text: "ç”ºã®æ±ºã¾ã‚Šã‚’è¦‹ç›´ã—ã€ãœã„ãŸãã‚’ãŠã•ãˆã‚‹ã€‚", icon: "ğŸ“", year: 1841 },
        "1853 ã€‡ã€‡





ã‚ãªãŸ:
ã¾ã çµ‚ã‚ã£ã¦ãªã„ã‚ˆ


ChatGPT:

æ€è€ƒæ™‚é–“: 59s
OKã€ã‹ãªã¿ï¼ğŸ“±ãƒ¡ã‚¤ãƒ³ã¯ã‚¹ãƒãƒ›å„ªå…ˆã®ã¾ã¾ã€PCã§ã‚‚è¦‹ã‚„ã™ã„ã‚ˆã†ã«å®Œå…¨ä¿®æ­£ç‰ˆã‚’ä»•ä¸Šã’ãŸã‚ˆã€‚
ã“ã®ã¾ã¾ index.html ã«ç½®ãæ›ãˆã‚Œã°å‹•ãã‚ˆã€‚ğŸ‘‡

html
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
<!DOCTYPE html>
<html lang="ja">
<head>
  <!-- Google tag (gtag.js) â†’ 1å›ã ã‘èª­ã¿è¾¼ã¿ã€2ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¸é€ä¿¡ -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-EZP12GC8W1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-EZP12GC8W1');  // ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£1
    gtag('config', 'G-6Z9WN4HFK5');  // ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£2
  </script>

  <!-- AdSenseï¼ˆ1å›ã ã‘ï¼‰ -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4922140858632050" crossorigin="anonymous"></script>

  <!-- æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆWebSiteï¼‰ -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"æ­´å²ã‚­ãƒƒã‚º",
    "url":"https://historykids.github.io/",
    "inLanguage":"ja"
  }
  </script>

  <!-- æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆFAQï¼‰ -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "inLanguage":"ja",
    "mainEntity":[
      {"@type":"Question","name":"å¯¾è±¡ã¯å°å­¦ç”Ÿã§ã™ã‹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ã¯ã„ã€‚ã§ã™ãŒã€å¹´å°‘ã€œå°å­¦æ ¡ä½å­¦å¹´ã§ã‚‚éŠã³ãªãŒã‚‰æ­´å²ã«è¦ªã—ã‚ã‚‹ã‚ˆã†ã«ã€ã²ã‚‰ãŒãªã‚¯ã‚¤ã‚ºã‚„å›³é‘‘ï¼ˆå¹´è¡¨ï¼‰ã§ã‚„ã•ã—ãå­¦ã¹ã¾ã™ã€‚"}},
      {"@type":"Question","name":"ç„¡æ–™ã§ä½¿ãˆã¾ã™ã‹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ç„¡æ–™ã§åˆ©ç”¨ã§ãã¾ã™ã€‚ã‚µã‚¤ãƒˆä¸‹éƒ¨ã«åºƒå‘ŠãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚"}},
      {"@type":"Question","name":"ã©ã‚“ãªå­¦ç¿’å†…å®¹ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"æ±Ÿæˆ¸æ™‚ä»£ãƒ»æˆ¦å›½æ™‚ä»£ãƒ»å®¤ç”ºæ™‚ä»£ãƒ»éŒå€‰æ™‚ä»£ã®ä¸»è¦ãªå‡ºæ¥äº‹ã‚’ã€å¹´ã¨å‡ºæ¥äº‹ã‚’çµã³ã¤ã‘ã‚‹ã‚¯ã‚¤ã‚ºã€å¹´è¡¨ã®æ‹¡å¼µè¡¨ç¤ºã€ã‚«ãƒ¼ãƒ‰åé›†ã¨è¡—ã¥ãã‚Šæ¼”å‡ºã§å­¦ã¹ã¾ã™ã€‚"}},
      {"@type":"Question","name":"è‡ªç”±ç ”ç©¶ã«ä½¿ãˆã¾ã™ã‹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ã¯ã„ã€‚æ­´å²äººç‰©ã‚„å¹´è¡¨ã‚’ã¾ã¨ã‚ã¦è‡ªç”±ç ”ç©¶ã‚„èª¿ã¹å­¦ç¿’ã«æ´»ç”¨ã§ãã¾ã™ã€‚"}},
      {"@type":"Question","name":"æˆ¦å›½æ™‚ä»£ã‚„å¹•æœ«ã‚‚å­¦ã¹ã¾ã™ã‹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ç¾åœ¨ã¯æ±Ÿæˆ¸ãƒ»æˆ¦å›½ãƒ»å®¤ç”ºãƒ»éŒå€‰ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚å¹•æœ«ã®è¿½åŠ ã‚‚æº–å‚™ä¸­ã§ã™ã€‚"}},
      {"@type":"Question","name":"ã‚¹ãƒãƒ›ã‚„ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã‚‚ä½¿ãˆã¾ã™ã‹ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ã¯ã„ã€‚ç¸¦ç”»é¢ãƒ»1ç”»é¢ã§éŠã¹ã‚‹ã‚ˆã†æœ€é©åŒ–ã—ã¦ã„ã¾ã™ã€‚"}}
    ]
  }
  </script>

  <!-- Search Console æ‰€æœ‰æ¨© -->
  <meta name="google-site-verification" content="bgJFyYeBgPsces8Rz5ONG_d-nj8ZEH_fHddcwAXMX0U" />

  <meta charset="UTF-8" />
  <!-- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®ãŸã‚ã‚ºãƒ¼ãƒ åˆ¶é™ã‚’æ’¤å»ƒ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- SEO -->
  <title>æ­´å²ã‚­ãƒƒã‚ºï½œå°å­¦ç”Ÿå‘ã‘æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆï¼ˆæ±Ÿæˆ¸ãƒ»æˆ¦å›½ãƒ»å®¤ç”ºãƒ»éŒå€‰ï¼‰ã‚¯ã‚¤ã‚ºï¼å¹´è¡¨ï¼ã‚«ãƒ¼ãƒ‰ã§ç”ºã¥ãã‚Šï¼</title>
  <meta name="description" content="æ­´å²ã‚­ãƒƒã‚ºã¯å°å­¦ç”Ÿå‘ã‘ã®æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆã€‚æ±Ÿæˆ¸ãƒ»æˆ¦å›½ãƒ»å®¤ç”ºãƒ»éŒå€‰ã®å‡ºæ¥äº‹ã‚’ã‚¯ã‚¤ã‚ºï¼å¹´è¡¨ï¼ã‚«ãƒ¼ãƒ‰é›†ã‚ã®è¡—ã¥ãã‚Šã§æ¥½ã—ãå­¦ã¹ã¾ã™ã€‚ã‚¹ãƒãƒ›å¯¾å¿œãƒ»ç„¡æ–™ã€‚">
  <link rel="canonical" href="https://historykids.github.io/">

  <!-- OGP -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://historykids.github.io/" />
  <meta property="og:title" content="æ¥½ã—ãå­¦ã¹ã‚‹ï¼å°å­¦ç”Ÿå‘ã‘æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆï½œæ­´å²ã‚­ãƒƒã‚º" />
  <meta property="og:description" content="æ±Ÿæˆ¸ãƒ»æˆ¦å›½ãƒ»å®¤ç”ºãƒ»éŒå€‰ã®å‡ºæ¥äº‹ã‚’ã‚«ãƒ¼ãƒ‰ã‚’é›†ã‚ãªãŒã‚‰å­¦ã¹ã‚‹ã€å­ä¾›å‘ã‘ã®æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆã€‚éŠã³ãªãŒã‚‰æ­´å²ã«è¦ªã—ã‚‚ã†ï¼" />
  <meta property="og:image" content="https://historykids.github.io/thumbnail.png" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="æ¥½ã—ãå­¦ã¹ã‚‹ï¼å°å­¦ç”Ÿå‘ã‘æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆï½œæ­´å²ã‚­ãƒƒã‚º" />
  <meta name="twitter:description" content="æ±Ÿæˆ¸ãƒ»æˆ¦å›½ãƒ»å®¤ç”ºãƒ»éŒå€‰ã®å‡ºæ¥äº‹ã‚’ã‚«ãƒ¼ãƒ‰ã‚’é›†ã‚ãªãŒã‚‰å­¦ã¹ã‚‹ã€å­ä¾›å‘ã‘ã®æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆã€‚" />
  <meta name="twitter:image" content="https://historykids.github.io/thumbnail.png" />

  <style>
  :root{
    --edo-yellow:#FCD34D; --edo-info:#FFF8DC; --edo-border:#999;
    --bg:#FFF6E3; --shadow:rgba(0,0,0,.12); --ink:#222; --adbg:#f1f1f1;
  }
  *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
  html,body{height:100%}
  body{
    margin:0;background:var(--bg);color:var(--ink);
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,
      "Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic",Meiryo,sans-serif;
  }
  h2{ font-size:clamp(18px,3.5vw,22px); line-height:1.3; }

  .wrap{display:flex;flex-direction:column;min-height:100svh;}
  header{
    position:sticky;top:0;z-index:3;
    background:linear-gradient(180deg,var(--edo-yellow),#fde68a);
    padding:10px 12px;display:flex;gap:8px;align-items:center;justify-content:space-between;
    box-shadow:0 1px 4px var(--shadow);flex-wrap:wrap;
  }
  header h1.siteTitle{
    flex:1 1 100%;font-size:clamp(16px,2.6vw,22px);line-height:1.2;margin:0 0 6px 0;
    overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;
  }
  header .controls{width:100%;display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  header button, header select{
    border:0;border-radius:10px;background:#fff;padding:6px 12px;
    font-weight:700;box-shadow:0 1px 3px var(--shadow);cursor:pointer
  }
  #resetBtn{background:#ffeaea}

  #intro{padding:10px 12px;background:#fff;}
  #info{
    padding:10px;background:var(--edo-info);border-bottom:1px solid #ccc;
    font-size:15px;min-height:40px
  }
  #town{
    position:relative;width:100%;
    height:clamp(260px, 44vh, 520px); /* ãƒ¢ãƒã‚¤ãƒ«å„ªå…ˆ */
    background:#fff;border-top:2px solid var(--edo-border);border-bottom:2px solid var(--edo-border);overflow:hidden
  }
  /* PCã§å°‘ã—åºƒã‚ã« */
  @media (min-width: 1024px){
    #town{ height:clamp(320px, 50vh, 640px); }
  }

  /* ã‚«ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢ï¼šãƒ¢ãƒã‚¤ãƒ«å„ªå…ˆã®Gridã€PCã§åˆ—æ•°UP */
  #cards{
    display:grid;gap:10px;padding:10px;
    grid-template-columns:repeat(auto-fill, minmax(92px, 1fr));
  }
  @media (min-width: 768px){
    #cards{ grid-template-columns:repeat(auto-fill, minmax(120px, 1fr)); }
  }
  .card{
    height:120px;border-radius:12px;background:#ddd;
    display:flex;align-items:center;justify-content:center;font-weight:700;font-size:15px;
    cursor:pointer;box-shadow:0 2px 6px var(--shadow);user-select:none;text-align:center;padding:6px;
    transition:transform .2s, box-shadow .2s
  }
  .card:hover{transform:scale(1.03);box-shadow:0 4px 12px var(--shadow)}
  .card.done{background:#cdeccd;color:#1a5e1a} /* â† é‡è¤‡ã¯å‰Šé™¤æ¸ˆã¿ */

  .building{position:absolute;font-size:34px;opacity:0;transform:scale(.8);transition:opacity .7s, transform .7s}
  .show{opacity:1;transform:scale(1.2)}
  .villager{position:absolute;font-size:20px;animation:walk 8s linear infinite}
  @keyframes walk{0%{left:2%}50%{left:90%}100%{left:2%}}

  #zukanPanel{position:fixed;inset:0 0 auto 0;height:72%;top:-100%;background:#fff;
    border-bottom:3px solid #333;box-shadow:0 4px 16px var(--shadow);
    transition:top .45s ease;z-index:5;overflow:auto}
  #zukanPanel.active{top:0}
  #zukanHead{position:sticky;top:0;background:#fff;padding:10px;border-bottom:1px solid #eee;
    display:flex;align-items:center;gap:8px}
  #zukanHead h2{margin:0;font-size:18px}
  #closeZukan{margin-left:auto;border:0;background:#eee;border-radius:8px;padding:6px 12px;cursor:pointer}
  .zukanSec{padding:10px}
  .zukanSec h3{margin:8px 0}
  .zCard{display:inline-flex;align-items:center;justify-content:center;width:96px;height:116px;margin:4px;
    border:1px solid #ccc;border-radius:8px;box-shadow:0 1px 3px var(--shadow);white-space:pre-line;text-align:center;padding:6px}
  .locked{background:#eee;color:#999}
  #completeMsg{font-size:18px;font-weight:800;color:green;text-align:center;padding:10px}

  .petal{position:fixed;top:-10px;font-size:20px;animation:fall linear forwards;pointer-events:none}
  @keyframes fall{to{transform:translateY(110vh) rotate(360deg);opacity:0}}

  .adbar{position:sticky;bottom:0;background:var(--adbg);border-top:1px solid #ddd;
    padding:4px 8px;display:flex;justify-content:center;align-items:center;min-height:52px}
  .adslot{width:100%;max-width:728px;height:50px;background:
    repeating-linear-gradient(45deg,#eee,#eee 8px,#e2e2e2 8px,#e2e2e2 16px);
    border:1px dashed #bbb;border-radius:8px;display:flex;align-items:center;justify-content:center;
    font-size:12px;color:#666}
  footer{height:8px}

  .landscapeWarn{
    position:fixed;inset:0;background:rgba(0,0,0,.65);color:#fff;display:none;
    align-items:center;justify-content:center;z-index:20;text-align:center;padding:20px
  }
  /* å°ç”»é¢ã®æ¨ªå‘ãã ã‘è­¦å‘Šã€‚PCã¯è¡¨ç¤ºã—ãªã„ */
  @media (orientation:landscape) and (max-width: 768px){ .landscapeWarn{display:flex} }

  ruby rt{font-size:.7em;color:#444}
  .yr{font-weight:800;margin-right:2px}

  /* ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³å¼±ã‚è¨­å®šã«é…æ…® */
  @media (prefers-reduced-motion: reduce){
    .card:hover{transform:none}
    .building,.petal{transition:none;animation:none}
  }
  </style>
</head>

<body>
<div class="wrap">
  <header>
    <h1 class="siteTitle">æ­´å²ã‚­ãƒƒã‚ºï½œæ¥½ã—ãå­¦ã¹ã‚‹ï¼å°å­¦ç”Ÿå‘ã‘æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆ</h1>

    <div class="controls">
      <label for="eraSelect" style="font-size:12px">æ™‚ä»£ï¼š</label>
      <select id="eraSelect" title="æ™‚ä»£ã‚’ãˆã‚‰ã¶">
        <option value="edo">æ±Ÿæˆ¸æ™‚ä»£</option>
        <option value="muromachi">å®¤ç”ºæ™‚ä»£</option>
        <option value="kamakura">éŒå€‰æ™‚ä»£</option>
        <option value="sengoku">æˆ¦å›½æ™‚ä»£</option>
      </select>

      <select id="chapterFilter" title="ç« ã‚’ãˆã‚‰ã¶">
        <option value="ALL">ç« ï¼šãœã‚“ã¶</option>
      </select>

      <button id="zukanBtn" aria-controls="zukanPanel" aria-expanded="false">å›³é‘‘</button>
      <button id="resetBtn" title="é€²æ—ã‚’å…¨éƒ¨æ¶ˆã—ã¦æœ€åˆã‹ã‚‰">ãƒªã‚»ãƒƒãƒˆ</button>
    </div>
  </header>

  <section id="intro">
    <p style="margin:0 0 8px;">
      å°å­¦ç”Ÿå‘ã‘ã®<span style="font-weight:700;">æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆ</span>ã§ã™ã€‚<br>
      <b>æ±Ÿæˆ¸ãƒ»æˆ¦å›½ãƒ»å®¤ç”ºãƒ»éŒå€‰</b>ã®å‡ºæ¥äº‹ã‚’ã€<b>ã‚¯ã‚¤ã‚º</b>ã¨<b>å¹´è¡¨</b>ã€<b>ã‚«ãƒ¼ãƒ‰é›†ã‚</b>ã§æ¥½ã—ãå­¦ã¹ã¾ã™ï¼ˆã‚¹ãƒãƒ›å¯¾å¿œãƒ»ç„¡æ–™ï¼‰ã€‚
    </p>
    <h2>æˆ¦å›½æ™‚ä»£ã®æ­´å²ã‚’å‹‰å¼·ã§ãã‚‹ã‚¯ã‚¤ã‚º</h2>
    <h2>æ±Ÿæˆ¸æ™‚ä»£ã®æ­´å²ã‚’å‹‰å¼·ã§ãã‚‹ã‚¯ã‚¤ã‚º</h2>
    <h2>å®¤ç”ºæ™‚ä»£ã®æ­´å²ã‚’å‹‰å¼·ã§ãã‚‹ã‚¯ã‚¤ã‚º</h2>
    <h2>éŒå€‰æ™‚ä»£ã®æ­´å²ã‚’å‹‰å¼·ã§ãã‚‹ã‚¯ã‚¤ã‚º</h2>
    <h2>å¹´è¡¨ãƒ»å›³é‘‘ã§æ­´å²äººç‰©ã‚’ãƒã‚§ãƒƒã‚¯</h2>
    <h2>è‡ªç”±ç ”ç©¶ã‚„ãƒ†ã‚¹ãƒˆå‹‰å¼·ã«ã‚‚å½¹ç«‹ã¤</h2>

    <nav style="display:flex;gap:8px;flex-wrap:wrap;">
      <a href="#cards" id="playEdo" style="display:inline-block;background:#fcd34d;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#222;">æ±Ÿæˆ¸æ™‚ä»£ã§éŠã¶</a>
      <a href="#cards" id="playSengoku" style="display:inline-block;background:#f6d5a4;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#222;">æˆ¦å›½æ™‚ä»£ã§éŠã¶</a>
      <a href="#cards" id="playMuromachi" style="display:inline-block;background:#fde68a;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#222;">å®¤ç”ºæ™‚ä»£ã§éŠã¶</a>
      <a href="#cards" id="playKamakura" style="display:inline-block;background:#f9e2af;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#222;">éŒå€‰æ™‚ä»£ã§éŠã¶</a>
      <a href="#zukanPanel" id="openZukan" style="display:inline-block;background:#e5e7eb;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#111;">å›³é‘‘ï¼ˆå¹´è¡¨ï¼‰ã‚’è¦‹ã‚‹</a>
    </nav>
  </section>

  <!-- PRï¼šãŠã™ã™ã‚ã®æœ¬ï¼ˆãƒ‰ãƒ©ãˆã‚‚ã‚“ï¼‰ -->
  <div class="promoBar" role="note" aria-label="ãŠã™ã™ã‚ã®æœ¬ï¼ˆPRï¼‰" style="background:#fffbe6;border-bottom:1px solid #e6d400;padding:8px 12px;display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap;box-shadow:0 1px 3px rgba(0,0,0,.08);">
    <b style="color:#b58900;">PR</b>
    <span class="title" style="font-weight:700;">æ­´å²å…¥é–€ã«ã´ã£ãŸã‚Šï¼<strong>ãƒ‰ãƒ©ãˆã‚‚ã‚“ã®ç¤¾ä¼šç§‘ãŠã‚‚ã—ã‚æ”»ç•¥ æ—¥æœ¬ã®æ­´å²</strong>ï¼ˆå°å­¦é¤¨ï¼‰</span>
    <a id="promoLink" class="button"
       href="https://amzn.asia/d/bu7qdsv"
       target="_blank" rel="noopener sponsored nofollow"
       style="display:inline-block;background:#ffd814;color:#111;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;box-shadow:0 1px 3px rgba(0,0,0,.15);">
       Amazonã§è¦‹ã‚‹
    </a>
    <small style="color:#666;">â€»å½“ã‚µã‚¤ãƒˆã¯ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆåºƒå‘Šã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™</small>
  </div>

  <div id="info" role="status" aria-live="polite">æ™‚ä»£ã‚’ãˆã‚‰ã‚“ã§ã‚«ãƒ¼ãƒ‰ã‚’ã‚ãã‚ã†ï¼ ã€‡ã®éƒ¨åˆ†ã ã‘ã‚’ã€Œã²ã‚‰ãŒãªã€ã§ç­”ãˆã‚‹ã¨é–‹ãã‚ˆã€‚</div>
  <div id="town" role="img" aria-label="ç”ºã‚¨ãƒªã‚¢"></div>
  <div id="cards" aria-label="ã‚«ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢"></div>

  <section id="zukanPanel" aria-hidden="true">
    <div id="zukanHead">
      <h2>ã‚«ãƒ¼ãƒ‰å›³é‘‘ï¼ˆç« ã”ã¨ï¼‰</h2>
      <button id="closeZukan" aria-label="å›³é‘‘ã‚’ã¨ã˜ã‚‹">ã¨ã˜ã‚‹</button>
    </div>
    <div id="zukanList"></div>
    <div id="completeMsg"></div>
  </section>

  <!-- ä¸‹éƒ¨ã®å›ºå®šãƒãƒŠãƒ¼æ ï¼ˆå¿…è¦ãªã‚‰ä¸­èº«ã‚’ ad ãƒ¦ãƒ‹ãƒƒãƒˆã«å·®ã—æ›¿ãˆï¼‰ -->
  <div class="adbar" aria-label="åºƒå‘Šæ ">
    <div class="adslot">åºƒå‘Šã‚¹ãƒšãƒ¼ã‚¹ï¼ˆ<ins class="adsbygoogle">â€¦</ins> ã‚’å…¥ã‚Œã‚‹å ´æ‰€ï¼‰</div>
  </div>
  <footer aria-hidden="true"></footer>
</div>

<div class="landscapeWarn">ç¸¦å‘ãã§éŠã‚“ã§ã­ğŸ”„</div>

<!-- ã‚¯ã‚¤ã‚ºç”¨ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆç°¡æ˜“ã‚¹ã‚¿ã‚¤ãƒ«ã¯ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã§ï¼‰ -->
<div id="quizModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:30">
  <div class="modal-bg" id="quizBg" style="position:absolute;inset:0;background:rgba(0,0,0,.5)"></div>
  <div class="modal-box" style="position:relative;z-index:1;width:min(92vw,560px);background:#fff;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.2);padding:14px">
    <div id="quizTitle" class="quiz-title" style="font-weight:800;font-size:16px;margin:0 0 6px 0"></div>
    <p class="quiz-instruction" style="font-size:14px;margin:6px 0 10px 0;color:#444">
      ã€‡ã®ã¨ã“ã‚ã ã‘ã‚’ <b>ã²ã‚‰ãŒãª</b> ã§ã“ãŸãˆã¦ã­ã€‚<br>
      ç©ºæ¬„ãŒã„ãã¤ã‹ã‚ã‚‹ã¨ãã¯ <b>ã‚¹ãƒšãƒ¼ã‚¹ / ãƒ» / ã€ / ï¼</b> ã§åŒºåˆ‡ã£ã¦OKã€‚
      <span id="quizHint" style="color:#666"></span>
    </p>
    <input id="quizInput" type="text" inputmode="text" autocomplete="off"
           placeholder="ã“ã“ã« ã²ã‚‰ãŒãª ã‚’å…¥åŠ›ï¼ˆä¾‹ï¼šã¦ã‚“ã½ã†ï¼‰"
           style="width:100%;padding:10px 12px;font-size:16px;border:1px solid #ccc;border-radius:10px" />
    <div class="quiz-actions" style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px">
      <button id="quizCancel" style="border:0;border-radius:10px;padding:8px 14px;background:#eee;cursor:pointer;box-shadow:0 1px 3px var(--shadow);transition:background .2s, transform .2s">ã‚„ã‚ã‚‹</button>
      <button id="quizOk" style="border:0;border-radius:10px;padding:8px 14px;background:#cdeccd;color:#145f14;font-weight:700;cursor:pointer;box-shadow:0 1px 3px var(--shadow);transition:background .2s, transform .2s">æ±ºå®š</button>
    </div>
  </div>
</div>

<script>
/* =========================================================
   ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆï¼ˆæ±Ÿæˆ¸ï¼å®¤ç”ºï¼éŒå€‰ï¼æˆ¦å›½ï¼‰
   - 1401 å‹˜åˆè²¿æ˜“ã®ã€‡ã¯ç¾çŠ¶ç¶­æŒ
   - è¡¨ç¤ºã®ãƒ«ãƒ“ã¯ ruby ãƒãƒƒãƒ—å´ã§ä»˜ä¸ï¼ˆã‚­ãƒ¼ã¯ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼‰
   ========================================================= */
const dataSets = {
  /* ---------- æ±Ÿæˆ¸æ™‚ä»£ ---------- */
  edo: {
    title: "æ±Ÿæˆ¸æ™‚ä»£",
    LS_KEY: "cards_edo_complete_v1",
    chapters: {
      "åˆæœŸ": {
        "1603 ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": { text: "å®¶åº·ãŒå°†è»ã«ãªã‚Šã€æ±Ÿæˆ¸ã§å›½ã®ä¸­å¿ƒãŒå‹•ãå‡ºã™ã€‚", icon: "ğŸ¯", year: 1603 },
        "1615 ã€‡ã€‡ã€‡ã€‡ã®é™£":       { text: "å¤§ããªãŸãŸã‹ã„ãŒçµ‚ã‚ã‚Šã€è±Šè‡£ã®æ™‚ä»£ã«å¹•ã€‚", icon: "âš”ï¸", year: 1615 },
        "1635 ã€‡ã€‡ã€‡ã€‡äº¤ä»£":          { text: "å¤§åã¯å›½ã¨æ±Ÿæˆ¸ã‚’è¡Œãæ¥ã™ã‚‹ãã¾ã‚Šã«ã€‚", icon: "ğŸš¶", year: 1635 },
        "1637 å³¶ã€‡ã€‡ãƒ»å¤©ã€‡ã€‡ã®ä¹±":  { text: "ä¹å·ã§å¤§ããªä¸€æ†ãŒèµ·ãã‚‹ã€‚", icon: "ğŸ”¥", year: 1637 },
        "1639 ã€‡ã€‡ã€‡ã€‡ã€‡èˆ¹ã®æ¥èˆªç¦æ­¢": { text: "å¤–å›½èˆ¹ã®å‡ºå…¥ã‚Šã‚’ã—ã‚ã¦ã€äº¤æµã‚’ã›ã„ã’ã‚“ã€‚", icon: "â›µ", year: 1639 },
        "1641 ã€‡ã€‡ã€‡ã§ã®è²¿æ˜“":      { text: "ã‚ªãƒ©ãƒ³ãƒ€å•†é¤¨ãŒé•·å´ã®å‡ºå³¶ã¸ã€‚", icon: "ğŸï¸", year: 1641 },
        "1657 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç«":      { text: "æ±Ÿæˆ¸ã®ç”ºãŒå¤§ç«äº‹ã€‚ç”ºã¥ãã‚Šã‚’ç«‹ã¦ç›´ã™ã€‚", icon: "ğŸ”¥", year: 1657 },
        "1657 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã¸ç§»è»¢":  { text: "éŠéƒ­ãŒæµ…è‰åƒæŸã®æ–°ã—ã„å ´æ‰€ã¸ã€‚", icon: "ğŸ®", year: 1657 }
      },
      "ä¸­æœŸ": {
        "1688 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": { text: "ç”ºäººã®æ–‡åŒ–ãŒèŠ±ã²ã‚‰ãã€‚æ­Œèˆä¼ã‚„æµ®ä¸–çµµãŒäººæ°—ã€‚", icon: "ğŸ­", year: 1688 },
        "1716 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©":         { text: "å‰å®—ãŒãã‚‰ã—ã¨è²¡æ”¿ã‚’ç«‹ã¦ç›´ã™å·¥å¤«ã‚’ã¯ã˜ã‚ã‚‹ã€‚", icon: "ğŸ“œ", year: 1716 },
        "1720 ã€‡ã€‡ã€‡ã€‡ã‚’ã¨ã‚Šã„ã‚Œã‚‹":   { text: "æµ·å¤–ã®å­¦ã³ãŒåºƒãŒã‚Šã€çŸ¥è­˜ãŒãµãˆã‚‹ã€‚", icon: "ğŸ“š", year: 1720 },
        "1720 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ã—ãã¿":     { text: "ç«äº‹ã«ããªãˆã‚‹ç”ºäººã®çµ„ãŒã§ãã‚‹ã€‚", icon: "ğŸš’", year: 1720 },
        "1730 ã€‡ã€‡ã®ãªãŒã‚Œã‚’æ•´ãˆã‚‹":   { text: "å•†ã„ã®ãã¾ã‚Šã‚’ã¨ã¨ã®ãˆã€ç”ºã‚’å…ƒæ°—ã«ã€‚", icon: "ğŸ§º", year: 1730 },
        "1775 ã€‡ã€‡ã€‡ã®æ™‚ä»£":           { text: "å•†ã„ã‚’æ´»ã‹ã™æ”¿æ²»ã§ãŠé‡‘ã®æµã‚Œã‚’ã‚ˆãã™ã‚‹è©¦ã¿ã€‚", icon: "ğŸ’¹", year: 1775 },
        "1783 ã€‡ã€‡ã€‡ã€‡ã®ããã‚“":       { text: "å¯’ã•ã‚„ä¸ä½œã§é£Ÿã¹ç‰©ãŒãŸã‚Šãªããªã‚‹ã€‚", icon: "ğŸŒ¾", year: 1783 }
      },
      "å¹•æœ«": {
        "1787 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©":         { text: "ãã‚‰ã—ã‚’ã²ãã—ã‚ã€æ•™è‚²ã‚‚å¤§åˆ‡ã«ã™ã‚‹æ–¹é‡ã€‚", icon: "ğŸ“", year: 1787 },
        "1825 ã€‡ã€‡ã€‡ã€‡ã€‡æ‰“æ‰•ä»¤":       { text: "è¿‘ã¥ãå¤–å›½èˆ¹ã‚’è¿½ã„ã¯ã‚‰ã†ãã¾ã‚Šã€‚", icon: "ğŸ“£", year: 1825 },
        "1837 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±": { text: "å¤§é˜ªã§äººã³ã¨ã®è‹¦ã—ã•ãŒçˆ†ç™ºã€‚", icon: "âš ï¸", year: 1837 },
        "1841 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©":           { text: "ç”ºã®æ±ºã¾ã‚Šã‚’è¦‹ç›´ã—ã€ãœã„ãŸãã‚’ãŠã•ãˆã‚‹ã€‚", icon: "ğŸ“", year: 1841 },
        "1853 ã€‡ã€‡ã€‡ã€‡ãŒæ¥ã‚‹":         { text: "ã‚¢ãƒ¡ãƒªã‚«ã®èˆ¹ãŒæµ¦è³€ã«æ¥èˆªã€‚", icon: "â›´ï¸", year: 1853 },
        "1854 ã€‡ã€‡ã€‡æ¡ç´„":             { text: "æ—¥æœ¬ã¯æ¸¯ã‚’é–‹ãã€äº¤æµã‚’ã¯ã˜ã‚ã‚‹ã€‚", icon: "ğŸ¤", year: 1854 },
        "1858 ã€‡ã€‡ã€‡ã€‡ã®æ¡ç´„":         { text: "ã„ãã¤ã‹ã®å›½ã¨ã‚€ã™ã³ã€è²¿æ˜“ãŒåºƒãŒã‚‹ã€‚", icon: "ğŸŒ", year: 1858 },
        "1858 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç„":         { text: "æ„è¦‹ã®ã¡ãŒã„ã§å¤šãã®äººãŒå‡¦ç½°ã•ã‚Œã‚‹ã€‚", icon: "âš–ï¸", year: 1858 },
        "1860 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®å¤‰":   { text: "æ”¿æ²»ã®å¯¾ç«‹ãŒäº‹ä»¶ã«ã€‚", icon: "ğŸ—¡ï¸", year: 1860 },
        "1867 ã€‡ã€‡ã€‡ã€‡å¥‰é‚„":           { text: "æ”¿ï¼ˆã¾ã¤ã‚Šã”ã¨ï¼‰ã‚’æœå»·ã«ãŠè¿”ã—ã€‚", icon: "ğŸ—ï¸", year: 1867 },
        "1868 ã€‡ã€‡ã€‡ã¸":               { text: "æ–°ã—ã„æ™‚ä»£ã®ã‚¹ã‚¿ãƒ¼ãƒˆï¼", icon: "ğŸŒ¸", year: 1868 }
      }
    },
    ruby: {
      "1603 ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": "ã€‡ã€‡<ruby>å¹•åºœ<rt>ã°ããµ</rt></ruby>ãŒã¯ã˜ã¾ã‚‹",
      "1615 ã€‡ã€‡ã€‡ã€‡ã®é™£": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>é™£<rt>ã˜ã‚“</rt></ruby>",
      "1635 ã€‡ã€‡ã€‡ã€‡äº¤ä»£": "ã€‡ã€‡ã€‡ã€‡<ruby>äº¤ä»£<rt>ã“ã†ãŸã„</rt></ruby>",
      "1637 å³¶ã€‡ã€‡ãƒ»å¤©ã€‡ã€‡ã®ä¹±": "å³¶ã€‡ã€‡ãƒ»å¤©ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1639 ã€‡ã€‡ã€‡ã€‡ã€‡èˆ¹ã®æ¥èˆªç¦æ­¢": "ã€‡ã€‡ã€‡ã€‡ã€‡<ruby>èˆ¹<rt>ã›ã‚“</rt></ruby>ã®<ruby>æ¥èˆª<rt>ã‚‰ã„ã“ã†</rt></ruby><ruby>ç¦æ­¢<rt>ãã‚“ã—</rt></ruby>",
      "1641 ã€‡ã€‡ã€‡ã§ã®è²¿æ˜“": "ã€‡ã€‡ã€‡ã§ã®<ruby>è²¿æ˜“<rt>ã¼ã†ãˆã</rt></ruby>",
      "1657 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç«": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>å¤§ç«<rt>ãŸã„ã‹</rt></ruby>",
      "1657 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã¸ç§»è»¢": "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã¸<ruby>ç§»è»¢<rt>ã„ã¦ã‚“</rt></ruby>",
      "1688 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": "ã€‡ã€‡ã€‡ã€‡<ruby>æ–‡åŒ–<rt>ã¶ã‚“ã‹</rt></ruby>ãŒã•ã‹ãˆã‚‹",
      "1716 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æ”¹é©<rt>ã‹ã„ã‹ã</rt></ruby>",
      "1720 ã€‡ã€‡ã€‡ã€‡ã‚’ã¨ã‚Šã„ã‚Œã‚‹": "ã€‡ã€‡ã€‡ã€‡ã‚’ã¨ã‚Šã„ã‚Œã‚‹",
      "1720 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ã—ãã¿": "ã€‡ã€‡ã€‡ã€‡ã€‡ã®ã—ãã¿",
      "1730 ã€‡ã€‡ã®ãªãŒã‚Œã‚’æ•´ãˆã‚‹": "ã€‡ã€‡ã®ãªãŒã‚Œã‚’<ruby>æ•´ãˆã‚‹<rt>ã¨ã¨ã®ãˆã‚‹</rt></ruby>",
      "1775 ã€‡ã€‡ã€‡ã®æ™‚ä»£": "ã€‡ã€‡ã€‡ã®<ruby>æ™‚ä»£<rt>ã˜ã ã„</rt></ruby>",
      "1783 ã€‡ã€‡ã€‡ã€‡ã®ããã‚“": "ã€‡ã€‡ã€‡ã€‡ã®ããã‚“",
      "1787 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æ”¹é©<rt>ã‹ã„ã‹ã</rt></ruby>",
      "1825 ã€‡ã€‡ã€‡ã€‡ã€‡æ‰“æ‰•ä»¤": "ã€‡ã€‡ã€‡ã€‡ã€‡<ruby>æ‰“æ‰•ä»¤<rt>ã†ã¡ã¯ã‚‰ã„ã‚Œã„</rt></ruby>",
      "1837 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±": "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1841 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æ”¹é©<rt>ã‹ã„ã‹ã</rt></ruby>",
      "1853 ã€‡ã€‡ã€‡ã€‡ãŒæ¥ã‚‹": "ã€‡ã€‡ã€‡ã€‡ãŒ<ruby>æ¥<rt>ã</rt></ruby>ã‚‹",
      "1854 ã€‡ã€‡ã€‡æ¡ç´„": "ã€‡ã€‡ã€‡<ruby>æ¡ç´„<rt>ã˜ã‚‡ã†ã‚„ã</rt></ruby>",
      "1858 ã€‡ã€‡ã€‡ã€‡ã®æ¡ç´„": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æ¡ç´„<rt>ã˜ã‚‡ã†ã‚„ã</rt></ruby>",
      "1858 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç„": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>å¤§ç„<rt>ãŸã„ã”ã</rt></ruby>",
      "1860 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®å¤‰": "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>å¤‰<rt>ã¸ã‚“</rt></ruby>",
      "1867 ã€‡ã€‡ã€‡ã€‡å¥‰é‚„": "ã€‡ã€‡ã€‡ã€‡<ruby>å¥‰é‚„<rt>ã»ã†ã‹ã‚“</rt></ruby>",
      "1868 ã€‡ã€‡ã€‡ã¸": "ã€‡ã€‡ã€‡ã¸"
    },
    blanks: {
      "1603 ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": ["ãˆã©"],
      "1615 ã€‡ã€‡ã€‡ã€‡ã®é™£": ["ãŠãŠã•ã‹"],
      "1635 ã€‡ã€‡ã€‡ã€‡äº¤ä»£": ["ã•ã‚“ãã‚“"],
      "1637 å³¶ã€‡ã€‡ãƒ»å¤©ã€‡ã€‡ã®ä¹±": ["ã°ã‚‰","ãã•"],
      "1639 ã€‡ã€‡ã€‡ã€‡ã€‡èˆ¹ã®æ¥èˆªç¦æ­¢": ["ã½ã‚‹ã¨ãŒã‚‹"],
      "1641 ã€‡ã€‡ã€‡ã§ã®è²¿æ˜“": ["ã§ã˜ã¾"],
      "1657 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç«": ["ã‚ã„ã‚Œã"],
      "1657 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã¸ç§»è»¢": ["ã—ã‚“ã‚ˆã—ã‚ã‚‰"],
      "1688 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": ["ã’ã‚“ã‚ã"],
      "1716 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©": ["ãã‚‡ã†ã»"],
      "1720 ã€‡ã€‡ã€‡ã€‡ã‚’ã¨ã‚Šã„ã‚Œã‚‹": ["ã‚ˆã†ã—ã‚‡"],
      "1720 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ã—ãã¿": ["ã¾ã¡ã³ã‘ã—"],
      "1730 ã€‡ã€‡ã®ãªãŒã‚Œã‚’æ•´ãˆã‚‹": ["ã‚‚ã®"],
      "1775 ã€‡ã€‡ã€‡ã®æ™‚ä»£": ["ãŸã¬ã¾"],
      "1783 ã€‡ã€‡ã€‡ã€‡ã®ããã‚“": ["ã¦ã‚“ã‚ã„"],
      "1787 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©": ["ã‹ã‚“ã›ã„"],
      "1825 ã€‡ã€‡ã€‡ã€‡ã€‡æ‰“æ‰•ä»¤": ["ã„ã“ãã›ã‚“"],
      "1837 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±": ["ãŠãŠã—ãŠã¸ã„ã¯ã¡ã‚ã†"],
      "1841 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©": ["ã¦ã‚“ã½ã†"],
      "1853 ã€‡ã€‡ã€‡ã€‡ãŒæ¥ã‚‹": ["ãã‚ãµã­"],
      "1854 ã€‡ã€‡ã€‡æ¡ç´„": ["ã‚ã—ã‚“"],
      "1858 ã€‡ã€‡ã€‡ã€‡ã®æ¡ç´„": ["ã‚ã‚“ã›ã„"],
      "1858 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç„": ["ã‚ã‚“ã›ã„"],
      "1860 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®å¤‰": ["ã•ãã‚‰ã ã‚‚ã‚“ãŒã„"],
      "1867 ã€‡ã€‡ã€‡ã€‡å¥‰é‚„": ["ãŸã„ã›ã„"],
      "1868 ã€‡ã€‡ã€‡ã¸": ["ã‚ã„ã˜"]
    }
  },

  /* ---------- å®¤ç”ºæ™‚ä»£ï¼ˆâ€» 1401 å‹˜åˆè²¿æ˜“ã®ã€‡ã¯ç¾çŠ¶ç¶­æŒï¼‰ ---------- */
  muromachi: {
    title: "å®¤ç”ºæ™‚ä»£",
    LS_KEY: "cards_muromachi_complete_v1",
    chapters: {
      "åˆæœŸï¼ˆå—åŒ—æœã€œï¼‰": {
        "1336 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": { text: "è¶³åˆ©æ°ã®å¹•åºœãŒäº¬éƒ½ã§å§‹ã¾ã‚‹ã€‚", icon: "ğŸ¯", year: 1336 },
        "1392 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡çµ±ä¸€":       { text: "å—æœã¨åŒ—æœãŒã²ã¨ã¤ã«ãªã‚‹ã€‚", icon: "ğŸ¤", year: 1392 },
        "1397 ã€‡ã€‡ã€‡ã€‡ãŒå»ºã¦ã‚‰ã‚Œã‚‹":   { text: "ãã‚‰ã³ã‚„ã‹ãªå»ºç‰©ï¼ˆé¹¿è‹‘å¯ºï¼‰ã€‚", icon: "ğŸ¯", year: 1397 },
        "1390 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": { text: "èƒ½ã‚„èŒ¶ã®æ¹¯ãªã©éƒ½ã®æ–‡åŒ–ãŒç™ºå±•ã€‚", icon: "ğŸ­", year: 1390 },
        "1401 ã€‡ã€‡ã€‡ã€‡è²¿æ˜“ãŒã¯ã˜ã¾ã‚‹": { text: "æ˜ã¨ã®å‹˜åˆï¼ˆè¨¼æ˜ï¼‰ã‚’ç”¨ã„ãŸè²¿æ˜“ã€‚", icon: "ğŸ›¶", year: 1401 }
      },
      "ä¸­æœŸï¼ˆæ–‡åŒ–ã¨äº‰ã„ï¼‰": {
        "1439 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±":         { text: "é–¢æ±ã§å¤§ããªæˆ¦ã„ï¼ˆå°†è»å´ã¨å¯¾ç«‹ï¼‰ã€‚", icon: "âš”ï¸", year: 1439 },
        "1441 ã€‡ã€‡ã€‡ã®ä¹±":             { text: "å°†è»ãŒè¨ãŸã‚Œã‚‹äº‹ä»¶ï¼ˆèµ¤æ¾æ°ã‚‰ï¼‰ã€‚", icon: "âš ï¸", year: 1441 },
        "1467 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":           { text: "äº¬éƒ½ãŒè’å»ƒã€ã®ã¡ã®æˆ¦å›½æ™‚ä»£ã¸ã€‚", icon: "ğŸ”¥", year: 1467 },
        "1485 ã€‡ã€‡ã€‡ã€‡å›½ä¸€æ†":         { text: "äººã³ã¨ãŒå”åŠ›ã—ã¦è‡ªæ²»ï¼ˆå±±åŸå›½ï¼‰ã€‚", icon: "ğŸ›¡ï¸", year: 1485 },
        "1489 ã€‡ã€‡ã€‡ã€‡ãŒå»ºã¦ã‚‰ã‚Œã‚‹":   { text: "é™ã‹ãªç¾ï¼ˆæ…ˆç…§å¯ºãƒ»éŠ€é–£ï¼‰ã€‚", icon: "ğŸ¯", year: 1489 },
        "1493 ã€‡ã€‡ã€‡ã€‡ã®æ”¿å¤‰":         { text: "ç´°å·æ°ã®æ”¿å¤‰ã§æ¨©åŠ›ãŒç§»ã‚‹ã€‚", icon: "ğŸŒ€", year: 1493 }
      },
      "å¾ŒæœŸï¼ˆæˆ¦å›½ã®å…¥å£ï¼‰": {
        "1543 ã€‡ã€‡ã€‡ã€‡ä¼æ¥":           { text: "æ–°ã—ã„é“å…·ãŒæ—¥æœ¬ã¸ï¼ˆé‰„ç ²ï¼‰ã€‚", icon: "ğŸ”«", year: 1543 },
        "1549 ã€‡ã€‡ã€‡ã€‡æ•™ä¼æ¥":         { text: "ã‚­ãƒªã‚¹ãƒˆæ•™ãŒæ—¥æœ¬ã«åºƒãŒã‚‹ã€‚", icon: "â›ª", year: 1549 },
        "1555 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":       { text: "å³å³¶ã®æˆ¦ã„ã€æ­¦å°†ãŒå‹¢åŠ›æ‹¡å¤§ã€‚", icon: "ğŸ—ºï¸", year: 1555 },
        "1573 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒãŠã‚ã‚‹":   { text: "å°†è»è¿½æ”¾ã§å¹•åºœãŒçµ‚ã‚ã‚Šã¸ã€‚", icon: "ğŸŒ…", year: 1573 }
      }
    },
    ruby: {
      "1336 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": "ã€‡ã€‡ã€‡ã€‡<ruby>å¹•åºœ<rt>ã°ããµ</rt></ruby>ãŒã¯ã˜ã¾ã‚‹",
      "1392 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡çµ±ä¸€":       "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡<ruby>çµ±ä¸€<rt>ã¨ã†ã„ã¤</rt></ruby>",
      "1397 ã€‡ã€‡ã€‡ã€‡ãŒå»ºã¦ã‚‰ã‚Œã‚‹":   "ã€‡ã€‡ã€‡ã€‡ãŒ<ruby>å»º<rt>ãŸ</rt></ruby>ã¦ã‚‰ã‚Œã‚‹",
      "1390 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": "ã€‡ã€‡ã€‡ã€‡<ruby>æ–‡åŒ–<rt>ã¶ã‚“ã‹</rt></ruby>ãŒã•ã‹ãˆã‚‹",
      "1401 ã€‡ã€‡ã€‡ã€‡è²¿æ˜“ãŒã¯ã˜ã¾ã‚‹": "ã€‡ã€‡ã€‡ã€‡<ruby>è²¿æ˜“<rt>ã¼ã†ãˆã</rt></ruby>ãŒã¯ã˜ã¾ã‚‹",

      "1439 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±":         "ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1441 ã€‡ã€‡ã€‡ã®ä¹±":             "ã€‡ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1467 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":           "ã€‡ã€‡ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1485 ã€‡ã€‡ã€‡ã€‡å›½ä¸€æ†":         "ã€‡ã€‡ã€‡ã€‡<ruby>å›½<rt>ãã«</rt></ruby><ruby>ä¸€æ†<rt>ã„ã£ã</rt></ruby>",
      "1489 ã€‡ã€‡ã€‡ã€‡ãŒå»ºã¦ã‚‰ã‚Œã‚‹":   "ã€‡ã€‡ã€‡ã€‡ãŒ<ruby>å»º<rt>ãŸ</rt></ruby>ã¦ã‚‰ã‚Œã‚‹",
      "1493 ã€‡ã€‡ã€‡ã€‡ã®æ”¿å¤‰":         "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æ”¿å¤‰<rt>ã›ã„ã¸ã‚“</rt></ruby>",

      "1543 ã€‡ã€‡ã€‡ã€‡ä¼æ¥":           "ã€‡ã€‡ã€‡ã€‡<ruby>ä¼æ¥<rt>ã§ã‚“ã‚‰ã„</rt></ruby>",
      "1549 ã€‡ã€‡ã€‡ã€‡æ•™ä¼æ¥":         "ã€‡ã€‡ã€‡ã€‡<ruby>æ•™<rt>ãã‚‡ã†</rt></ruby><ruby>ä¼æ¥<rt>ã§ã‚“ã‚‰ã„</rt></ruby>",
      "1555 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":       "ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",
      "1573 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒãŠã‚ã‚‹":   "ã€‡ã€‡ã€‡ã€‡<ruby>å¹•åºœ<rt>ã°ããµ</rt></ruby>ãŒ<ruby>çµ‚<rt>ãŠ</rt></ruby>ã‚ã‚‹"
    },
    blanks: {
      "1336 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": ["ã‚€ã‚ã¾ã¡"],
      "1392 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡çµ±ä¸€":       ["ãªã‚“ã¼ãã¡ã‚‡ã†"],
      "1397 ã€‡ã€‡ã€‡ã€‡ãŒå»ºã¦ã‚‰ã‚Œã‚‹":   ["ãã‚“ã‹ã"],
      "1390 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": ["ããŸã‚„ã¾"],
      "1401 ã€‡ã€‡ã€‡ã€‡è²¿æ˜“ãŒã¯ã˜ã¾ã‚‹": ["ã‹ã‚“ã”ã†"],

      "1439 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±":         ["ãˆã„ãã‚‡ã†"],
      "1441 ã€‡ã€‡ã€‡ã®ä¹±":             ["ã‹ãã¤"],
      "1467 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":           ["ãŠã†ã«ã‚“"],
      "1485 ã€‡ã€‡ã€‡ã€‡å›½ä¸€æ†":         ["ã‚„ã¾ã—ã‚"],
      "1489 ã€‡ã€‡ã€‡ã€‡ãŒå»ºã¦ã‚‰ã‚Œã‚‹":   ["ãã‚“ã‹ã"],
      "1493 ã€‡ã€‡ã€‡ã€‡ã®æ”¿å¤‰":         ["ã‚ã„ãŠã†"],

      "1543 ã€‡ã€‡ã€‡ã€‡ä¼æ¥":           ["ã¦ã£ã½ã†"],
      "1549 ã€‡ã€‡ã€‡ã€‡æ•™ä¼æ¥":         ["ãã‚Šã™ã¨"],
      "1555 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":       ["ã„ã¤ãã—ã¾"],
      "1573 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒãŠã‚ã‚‹":   ["ã‚€ã‚ã¾ã¡"]
    }
  },

  /* ---------- éŒå€‰æ™‚ä»£ï¼ˆãŸã£ã·ã‚ŠåéŒ²ï¼‰ ---------- */
  kamakura: {
    title: "éŒå€‰æ™‚ä»£",
    LS_KEY: "cards_kamakura_complete_v1",
    chapters: {
      "åˆæœŸï¼ˆæºå¹³ã€œå‰µè¨­ï¼‰": {
        "1180 ã€‡ã€‡ã€‡ã€‡åˆæˆ¦ãŒã¯ã˜ã¾ã‚‹": { text: "æºæ°ã¨å¹³æ°ã®å¤§ããªãŸãŸã‹ã„ãŒå§‹ã¾ã‚‹ã€‚", icon: "âš”ï¸", year: 1180 },
        "1185 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":       { text: "å£‡ãƒæµ¦ã§å‹æ•—ãŒæ±ºã¾ã‚‹ã€‚", icon: "ğŸš©", year: 1185 },
        "1185 ã€‡ã€‡ã€‡ãƒ»ã€‡ã€‡ã€‡ã®è¨­ç½®":   { text: "å›½ã”ã¨ã«å®ˆã‚‹äººãƒ»åœŸåœ°ã‚’ãŠã•ã‚ã‚‹äººãŒç½®ã‹ã‚Œã‚‹ã€‚", icon: "ğŸ›¡ï¸", year: 1185 },
        "1185 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": { text: "æ­¦å£«ã®æ”¿æ²»ãŒæœ¬æ ¼ã‚¹ã‚¿ãƒ¼ãƒˆã€‚", icon: "ğŸ¯", year: 1185 },
        "1192 ã€‡ã€‡ã€‡ã€‡ãŒå°†è»ã«":       { text: "ã‚ˆã‚Šã¨ã‚‚ãŒå°†è»ã«ãªã‚‹ã€‚", icon: "ğŸ‘‘", year: 1192 }
      },
      "ä¸­æœŸï¼ˆåŸ·æ¨©æ”¿æ²»ï¼‰": {
        "1203 ã€‡ã€‡ã€‡ã€‡æ”¿æ²»ãŒã¯ã˜ã¾ã‚‹": { text: "åŒ—æ¡æ°ãŒã¾ã¨ã‚ã‚‹æ”¿æ²»ï¼ˆåŸ·æ¨©æ”¿æ²»ï¼‰ã€‚", icon: "ğŸ“œ", year: 1203 },
        "1213 ã€‡ã€‡åˆæˆ¦":               { text: "å’Œç”°æ°ã¨ã®ãŸãŸã‹ã„ã€‚", icon: "âš”ï¸", year: 1213 },
        "1221 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":           { text: "æœå»·ã¨ã®å¤§ããªå¯¾ç«‹ï¼ˆæ‰¿ä¹…ã®ä¹±ï¼‰ã€‚", icon: "âš ï¸", year: 1221 },
        "1232 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ãŒå®šã¾ã‚‹": { text: "æ­¦å£«ã®ãƒ«ãƒ¼ãƒ«ï¼ˆå¾¡æˆæ•—å¼ç›®ï¼‰ãŒã§ãã‚‹ã€‚", icon: "ğŸ“–", year: 1232 },
        "1247 ã€‡ã€‡ã€‡åˆæˆ¦":             { text: "æœ‰åŠ›æ­¦å£«ã®ã‚ã‚‰ãã„ï¼ˆå®æ²»åˆæˆ¦ï¼‰ã€‚", icon: "ğŸ›¡ï¸", year: 1247 },
        "1252 ã€‡ã€‡ã€‡ã€‡ãŒã§ãã‚‹":       { text: "éŒå€‰å¤§ä»ãŒã¤ãã‚‰ã‚Œã‚‹ã€‚", icon: "ğŸ—¿", year: 1252 }
      },
      "å¾ŒæœŸï¼ˆå…ƒå¯‡ã€œæ»…äº¡ï¼‰": {
        "1274 ã€‡ã€‡ã€‡ã€‡ã®å½¹":           { text: "å…ƒãŒæ”»ã‚ã¦ãã‚‹ï¼ˆæ–‡æ°¸ã®å½¹ï¼‰ã€‚", icon: "â›´ï¸", year: 1274 },
        "1281 ã€‡ã€‡ã€‡ã€‡ã®å½¹":           { text: "ãµãŸãŸã³å…ƒãŒæ”»ã‚ã‚‹ï¼ˆå¼˜å®‰ã®å½¹ï¼‰ã€‚", icon: "â›´ï¸", year: 1281 },
        "1297 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ãŒå‡ºã‚‹":     { text: "å€Ÿé‡‘ã‚’ã‚†ã‚‹ã™å‘½ä»¤ï¼ˆå¾³æ”¿ä»¤ï¼‰ã€‚", icon: "ğŸ“¢", year: 1297 },
        "1305 ã€‡ã€‡ã€‡ã€‡é¨’å‹•":           { text: "æœ‰åŠ›è€…ã©ã†ã—ã®å¯¾ç«‹ï¼ˆéœœæœˆé¨’å‹•ï¼‰ã€‚", icon: "ğŸŒªï¸", year: 1305 },
        "1331 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":           { text: "æœå»·ãŒãŸã¡ã‚ãŒã‚‹ï¼ˆå…ƒå¼˜ã®ä¹±ï¼‰ã€‚", icon: "âš ï¸", year: 1331 },
        "1333 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒã»ã‚ã¶":   { text: "éŒå€‰å¹•åºœãŒçµ‚ã‚ã‚‹ã€‚", icon: "ğŸŒ…", year: 1333 }
      },
      "æ–‡åŒ–ï¼ˆæ–°ã—ã„ä»æ•™ï¼‰": {
        "1175 ã€‡ã€‡ã€‡ã€‡å®—ãŒåºƒã¾ã‚‹":     { text: "æ³•ç„¶ã®æ•™ãˆï¼ˆæµ„åœŸå®—ï¼‰ã€‚", icon: "ğŸ™", year: 1175 },
        "1191 ã€‡ã€‡ã€‡ã€‡å®—ãŒä¼ã‚ã‚‹":     { text: "æ „è¥¿ã®æ•™ãˆï¼ˆè‡¨æ¸ˆå®—ï¼‰ã€‚", icon: "ğŸ§˜", year: 1191 },
        "1224 ã€‡ã€‡ã€‡ã€‡çœŸå®—ãŒåºƒã¾ã‚‹":   { text: "è¦ªé¸ã®æ•™ãˆï¼ˆæµ„åœŸçœŸå®—ï¼‰ã€‚", icon: "ğŸ™", year: 1224 },
        "1227 ã€‡ã€‡ã€‡å®—ãŒåºƒã¾ã‚‹":       { text: "ä¸€éã®æ•™ãˆï¼ˆæ™‚å®—ï¼‰ã€‚", icon: "ğŸ™", year: 1227 },
        "1247 ã€‡ã€‡ã€‡ã€‡å®—ãŒåºƒã¾ã‚‹":     { text: "é“å…ƒã®æ•™ãˆï¼ˆæ›¹æ´å®—ï¼‰ã€‚", icon: "ğŸ§˜", year: 1247 },
        "1253 ã€‡ã€‡ã€‡ã€‡å®—ãŒåºƒã¾ã‚‹":     { text: "æ—¥è“®ã®æ•™ãˆï¼ˆæ—¥è“®å®—ï¼‰ã€‚", icon: "ğŸ•Šï¸", year: 1253 }
      }
    },
    ruby: {
      "1180 ã€‡ã€‡ã€‡ã€‡åˆæˆ¦ãŒã¯ã˜ã¾ã‚‹": "ã€‡ã€‡ã€‡ã€‡<ruby>åˆæˆ¦<rt>ã‹ã£ã›ã‚“</rt></ruby>ãŒã¯ã˜ã¾ã‚‹",
      "1185 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":       "ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",
      "1185 ã€‡ã€‡ã€‡ãƒ»ã€‡ã€‡ã€‡ã®è¨­ç½®":   "ã€‡ã€‡ã€‡ãƒ»ã€‡ã€‡ã€‡ã®<ruby>è¨­ç½®<rt>ã›ã£ã¡</rt></ruby>",
      "1185 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": "ã€‡ã€‡ã€‡ã€‡<ruby>å¹•åºœ<rt>ã°ããµ</rt></ruby>ãŒã¯ã˜ã¾ã‚‹",
      "1192 ã€‡ã€‡ã€‡ã€‡ãŒå°†è»ã«":       "ã€‡ã€‡ã€‡ã€‡ãŒ<ruby>å°†è»<rt>ã—ã‚‡ã†ãã‚“</rt></ruby>ã«",

      "1203 ã€‡ã€‡ã€‡ã€‡æ”¿æ²»ãŒã¯ã˜ã¾ã‚‹": "ã€‡ã€‡ã€‡ã€‡<ruby>æ”¿æ²»<rt>ã›ã„ã˜</rt></ruby>ãŒã¯ã˜ã¾ã‚‹",
      "1213 ã€‡ã€‡åˆæˆ¦":               "ã€‡ã€‡<ruby>åˆæˆ¦<rt>ã‹ã£ã›ã‚“</rt></ruby>",
      "1221 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":           "ã€‡ã€‡ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1232 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ãŒå®šã¾ã‚‹": "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ãŒ<ruby>å®š<rt>ã•ã </rt></ruby>ã¾ã‚‹",
      "1247 ã€‡ã€‡ã€‡åˆæˆ¦":             "ã€‡ã€‡ã€‡<ruby>åˆæˆ¦<rt>ã‹ã£ã›ã‚“</rt></ruby>",
      "1252 ã€‡ã€‡ã€‡ã€‡ãŒã§ãã‚‹":       "ã€‡ã€‡ã€‡ã€‡ãŒã§ãã‚‹",

      "1274 ã€‡ã€‡ã€‡ã€‡ã®å½¹":           "ã€‡ã€‡ã€‡ã€‡ã®<ruby>å½¹<rt>ãˆã</rt></ruby>",
      "1281 ã€‡ã€‡ã€‡ã€‡ã®å½¹":           "ã€‡ã€‡ã€‡ã€‡ã®<ruby>å½¹<rt>ãˆã</rt></ruby>",
      "1297 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ãŒå‡ºã‚‹":     "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ãŒ<ruby>å‡º<rt>ã§</rt></ruby>ã‚‹",
      "1305 ã€‡ã€‡ã€‡ã€‡é¨’å‹•":           "ã€‡ã€‡ã€‡ã€‡<ruby>é¨’å‹•<rt>ãã†ã©ã†</rt></ruby>",
      "1331 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":           "ã€‡ã€‡ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1333 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒã»ã‚ã¶":   "ã€‡ã€‡ã€‡ã€‡<ruby>å¹•åºœ<rt>ã°ããµ</rt></ruby>ãŒã»ã‚ã¶",

      "1175 ã€‡ã€‡ã€‡ã€‡å®—ãŒåºƒã¾ã‚‹":     "ã€‡ã€‡ã€‡ã€‡<ruby>å®—<rt>ã—ã‚…ã†</rt></ruby>ãŒåºƒã¾ã‚‹",
      "1191 ã€‡ã€‡ã€‡ã€‡å®—ãŒä¼ã‚ã‚‹":     "ã€‡ã€‡ã€‡ã€‡<ruby>å®—<rt>ã—ã‚…ã†</rt></ruby>ãŒ<ruby>ä¼<rt>ã¤ãŸ</rt></ruby>ã‚ã‚‹",
      "1224 ã€‡ã€‡ã€‡ã€‡çœŸå®—ãŒåºƒã¾ã‚‹":   "ã€‡ã€‡ã€‡ã€‡<ruby>çœŸå®—<rt>ã—ã‚“ã—ã‚…ã†</rt></ruby>ãŒåºƒã¾ã‚‹",
      "1227 ã€‡ã€‡ã€‡å®—ãŒåºƒã¾ã‚‹":       "ã€‡ã€‡ã€‡<ruby>å®—<rt>ã—ã‚…ã†</rt></ruby>ãŒåºƒã¾ã‚‹",
      "1247 ã€‡ã€‡ã€‡ã€‡å®—ãŒåºƒã¾ã‚‹":     "ã€‡ã€‡ã€‡ã€‡<ruby>å®—<rt>ã—ã‚…ã†</rt></ruby>ãŒåºƒã¾ã‚‹",
      "1253 ã€‡ã€‡ã€‡ã€‡å®—ãŒåºƒã¾ã‚‹":     "ã€‡ã€‡ã€‡ã€‡<ruby>å®—<rt>ã—ã‚…ã†</rt></ruby>ãŒåºƒã¾ã‚‹"
    },
    blanks: {
      "1180 ã€‡ã€‡ã€‡ã€‡åˆæˆ¦ãŒã¯ã˜ã¾ã‚‹": ["ã’ã‚“ãºã„"],
      "1185 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":       ["ãŸã‚“ã®ã†ã‚‰"],
      "1185 ã€‡ã€‡ã€‡ãƒ»ã€‡ã€‡ã€‡ã®è¨­ç½®":   ["ã—ã‚…ã”","ã˜ã¨ã†"],
      "1185 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": ["ã‹ã¾ãã‚‰"],
      "1192 ã€‡ã€‡ã€‡ã€‡ãŒå°†è»ã«":       ["ã‚ˆã‚Šã¨ã‚‚"],

      "1203 ã€‡ã€‡ã€‡ã€‡æ”¿æ²»ãŒã¯ã˜ã¾ã‚‹": ["ã—ã£ã‘ã‚“"],
      "1213 ã€‡ã€‡åˆæˆ¦":               ["ã‚ã "],
      "1221 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":           ["ã˜ã‚‡ã†ãã‚…ã†"],
      "1232 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ãŒå®šã¾ã‚‹": ["ã”ã›ã„ã°ã„ã—ãã‚‚ã"],
      "1247 ã€‡ã€‡ã€‡åˆæˆ¦":             ["ã»ã†ã˜"],
      "1252 ã€‡ã€‡ã€‡ã€‡ãŒã§ãã‚‹":       ["ã ã„ã¶ã¤"],

      "1274 ã€‡ã€‡ã€‡ã€‡ã®å½¹":           ["ã¶ã‚“ãˆã„"],
      "1281 ã€‡ã€‡ã€‡ã€‡ã®å½¹":           ["ã“ã†ã‚ã‚“"],
      "1297 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ãŒå‡ºã‚‹":     ["ã¨ãã›ã„ã‚Œã„"],
      "1305 ã€‡ã€‡ã€‡ã€‡é¨’å‹•":           ["ã—ã‚‚ã¤ã"],
      "1331 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":           ["ã’ã‚“ã“ã†"],
      "1333 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒã»ã‚ã¶":   ["ã‹ã¾ãã‚‰"],

      "1175 ã€‡ã€‡ã€‡ã€‡å®—ãŒåºƒã¾ã‚‹":     ["ã˜ã‚‡ã†ã©"],
      "1191 ã€‡ã€‡ã€‡ã€‡å®—ãŒä¼ã‚ã‚‹":     ["ã‚Šã‚“ã–ã„"],
      "1224 ã€‡ã€‡ã€‡ã€‡çœŸå®—ãŒåºƒã¾ã‚‹":   ["ã˜ã‚‡ã†ã©"],
      "1227 ã€‡ã€‡ã€‡å®—ãŒåºƒã¾ã‚‹":       ["ã˜ã—ã‚…ã†"],
      "1247 ã€‡ã€‡ã€‡ã€‡å®—ãŒåºƒã¾ã‚‹":     ["ãã†ã¨ã†"],
      "1253 ã€‡ã€‡ã€‡ã€‡å®—ãŒåºƒã¾ã‚‹":     ["ã«ã¡ã‚Œã‚“"]
    }
  },
  /* ---------- æˆ¦å›½æ™‚ä»£ï¼ˆå¤šã‚ï¼‰ ---------- */
  sengoku: {
    title: "æˆ¦å›½æ™‚ä»£",
    LS_KEY: "cards_sengoku_complete_v1",
    chapters: {
      "å‰æœŸï¼ˆæˆ¦ä¹±ã®ã¯ã˜ã¾ã‚Šï¼‰": {
        "1467 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":                { text: "äº¬éƒ½ã§å¤§ããªæˆ¦ã„ãŒã¯ã˜ã¾ã‚Šã€å…¨å›½ã«åºƒãŒã‚‹ã€‚", icon: "ğŸ”¥", year: 1467 }, // ãŠã†ã«ã‚“
        "1485 ã€‡ã€‡ã€‡ã€‡å›½ä¸€æ†":              { text: "äººã³ã¨ãŒå”åŠ›ã—ã¦è‡ªæ²»ï¼ˆå±±åŸå›½ï¼‰ã€‚", icon: "ğŸ›¡ï¸", year: 1485 }           // ã‚„ã¾ã—ã‚
      },
      "ç¾¤é›„å‰²æ‹ ": {
        "1543 ã€‡ã€‡ã€‡ã€‡ä¼æ¥":                { text: "æ–°ã—ã„æ­¦å™¨ãŒä¼ã‚ã‚‹ï¼ˆé‰„ç ²ï¼‰ã€‚", icon: "ğŸ”«", year: 1543 },             // ã¦ã£ã½ã†
        "1549 ã€‡ã€‡ã€‡ã€‡æ•™ä¼æ¥":              { text: "ã‚­ãƒªã‚¹ãƒˆæ•™ãŒæ—¥æœ¬ã«åºƒãŒã‚‹ã€‚", icon: "â›ª", year: 1549 },               // ãã‚Šã™ã¨
        "1555 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":            { text: "å³å³¶ã®æˆ¦ã„ã€æ­¦å°†ãŒå‹¢åŠ›æ‹¡å¤§ã€‚", icon: "ğŸ—ºï¸", year: 1555 },           // ã„ã¤ãã—ã¾
        "1560 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":            { text: "æ¡¶ç‹­é–“ã®æˆ¦ã„ã€å¥‡è¥²ã§ã‹ã¤ã€‚", icon: "âš”ï¸", year: 1560 },             // ãŠã‘ã¯ã–ã¾
        "1561 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":          { text: "å·ä¸­å³¶ã®æˆ¦ã„ã€åå°†ã©ã†ã—ãŒæ¿€çªã€‚", icon: "âš”ï¸", year: 1561 },       // ã‹ã‚ãªã‹ã˜ã¾
        "1567 ã€‡ã€‡ã«æ”¹åï¼ˆç¨²è‘‰å±±â†’ã€œï¼‰":    { text: "åŸä¸‹ç”ºã®åã‚’ã‚ã‚‰ãŸã‚ã‚‹ï¼ˆå²é˜œï¼‰ã€‚", icon: "ğŸ¯", year: 1567 },       // ããµ
        "1568 ã€‡ã€‡ã€‡ã€‡ãŒäº¬éƒ½ã«å…¥ã‚‹":        { text: "éƒ½ã‚’ãŠã•ãˆã¦å¤©ä¸‹ã¸é€²ã‚€ã€‚", icon: "ğŸ¯", year: 1568 }                 // ã®ã¶ãªãŒ
      },
      "çµ±ä¸€ã¸": {
        "1570 ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":              { text: "å§‰å·ã®æˆ¦ã„ã€‚", icon: "âš”ï¸", year: 1570 },                             // ã‚ã­ãŒã‚
        "1571 ã€‡ã€‡ã€‡ã€‡ã€‡ç„¼ãè¨ã¡":          { text: "æ¯”å¡å±±ã‚’æ”»ã‚ã‚‹ã€‚", icon: "ğŸ”¥", year: 1571 },                         // ã²ãˆã„ã–ã‚“
        "1573 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒãŠã‚ã‚‹":        { text: "å®¤ç”ºå¹•åºœã®çµ‚ã‚ã‚Šã€‚", icon: "ğŸŒ…", year: 1573 },                       // ã‚€ã‚ã¾ã¡
        "1575 ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":              { text: "é•·ç¯ ã®æˆ¦ã„ã€é‰„ç ²ã§å‹ã¤ã€‚", icon: "ğŸ”«", year: 1575 },                // ãªãŒã—ã®
        "1576 ã€‡ã€‡ã€‡åŸã‚’ç¯‰ã":              { text: "å®‰åœŸåŸã‚’ã¤ãã‚‹ã€‚", icon: "ğŸ°", year: 1576 },                         // ã‚ã¥ã¡
        "1582 ã€‡ã€‡ã€‡ã€‡ã€‡ã®å¤‰":              { text: "æœ¬èƒ½å¯ºã®å¤‰ã€‚", icon: "ğŸ—¡ï¸", year: 1582 },                             // ã»ã‚“ã®ã†ã˜
        "1582 ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":              { text: "å±±å´ã®æˆ¦ã„ã€‚", icon: "âš”ï¸", year: 1582 },                             // ã‚„ã¾ã–ã
        "1583 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":            { text: "è³¤ãƒ¶å²³ã®æˆ¦ã„ã€‚", icon: "âš”ï¸", year: 1583 },                           // ã—ãšãŒãŸã‘
        "1584 ã€‡ã€‡ã€‡ãƒ»ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":      { text: "å°ç‰§ãƒ»é•·ä¹…æ‰‹ã®æˆ¦ã„ã€‚", icon: "âš”ï¸", year: 1584 },                     // ã“ã¾ã / ãªãŒãã¦
        "1585 ã€‡ã€‡ã€‡ã€‡ã«ãªã‚‹":              { text: "é–¢ç™½ã«ãªã‚‹ã€‚", icon: "ğŸ–ï¸", year: 1585 },                             // ã‹ã‚“ã±ã
        "1587 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã‚’å¹³å®š":          { text: "ä¹å·ã‚’ãŠã•ã‚ã‚‹ã€‚", icon: "ğŸ—¾", year: 1587 },                           // ãã‚…ã†ã—ã‚…ã†
        "1588 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ä»¤":            { text: "åˆ€ç‹©ä»¤ã‚’å‡ºã™ã€‚", icon: "ğŸ“¢", year: 1588 },                             // ã‹ãŸãªãŒã‚Šã‚Œã„
        "1590 ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":              { text: "å°ç”°åŸã®æˆ¦ã„ã€‚", icon: "âš”ï¸", year: 1590 },                           // ãŠã ã‚ã‚‰
        "1591 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ãŒå‡ºã‚‹":      { text: "èº«åˆ†çµ±åˆ¶ä»¤ã‚’å‡ºã™ã€‚", icon: "ğŸ“œ", year: 1591 },                         // ã¿ã¶ã‚“ã¨ã†ã›ã„ã‚Œã„
        "1592 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®å½¹":          { text: "æœé®®ã¸å‡ºå…µï¼ˆæ–‡ç¦„ã®å½¹ï¼‰ã€‚", icon: "â›´ï¸", year: 1592 },                  // ã¶ã‚“ã‚ãã®ãˆã
        "1597 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®å½¹":        { text: "ãµãŸãŸã³å‡ºå…µï¼ˆæ…¶é•·ã®å½¹ï¼‰ã€‚", icon: "â›´ï¸", year: 1597 },               // ã‘ã„ã¡ã‚‡ã†ã®ãˆã
        "1598 ã€‡ã€‡ã€‡ã€‡ãŒãªããªã‚‹":          { text: "ç§€å‰ãŒäº¡ããªã‚‹ã€‚", icon: "ğŸ•Šï¸", year: 1598 },                         // ã²ã§ã‚ˆã—
        "1600 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":            { text: "é–¢ãƒ¶åŸã®æˆ¦ã„ã€‚", icon: "âš”ï¸", year: 1600 }                             // ã›ããŒã¯ã‚‰
      },
      "æ”¿ç­–ã¨ç”ºã¥ãã‚Š": {
        "1577 ã€‡ã€‡ã€‡ã€‡ãƒ»ã€‡ã€‡ã€‡ã‚’ã™ã™ã‚ã‚‹":  { text: "æ¥½å¸‚ãƒ»æ¥½åº§ã‚’ã™ã™ã‚ã€å•†ã„ãŒæ´»ç™ºã«ã€‚", icon: "ğŸ›ï¸", year: 1577 },      // ã‚‰ãã„ã¡ / ã‚‰ãã–
        "1582 ã€‡ã€‡ã€‡ã€‡<ruby>æ¤œåœ°<rt>ã‘ã‚“ã¡</rt></ruby>ãŒã™ã™ã‚€": { text: "ç”°ã‚“ã¼ã®åºƒã•ã‚’ã¯ã‹ã‚Šã€ç¨ã‚’æ±ºã‚ã‚‹ï¼ˆå¤ªé–¤æ¤œåœ°ï¼‰ã€‚", icon: "ğŸ“", year: 1582 }, // ãŸã„ã“ã†
        "1583 ã€‡ã€‡ã€‡ã€‡åŸã‚’ç¯‰ã":            { text: "å¤§é˜ªåŸã‚’ç¯‰ãã€‚", icon: "ğŸ¯", year: 1583 }                              // ãŠãŠã•ã‹
      }
    },
    ruby: {
      "1467 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":                 "ã€‡ã€‡ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1485 ã€‡ã€‡ã€‡ã€‡å›½ä¸€æ†":               "ã€‡ã€‡ã€‡ã€‡<ruby>å›½<rt>ãã«</rt></ruby><ruby>ä¸€æ†<rt>ã„ã£ã</rt></ruby>",

      "1543 ã€‡ã€‡ã€‡ã€‡ä¼æ¥":                 "ã€‡ã€‡ã€‡ã€‡<ruby>ä¼æ¥<rt>ã§ã‚“ã‚‰ã„</rt></ruby>",
      "1549 ã€‡ã€‡ã€‡ã€‡æ•™ä¼æ¥":               "ã€‡ã€‡ã€‡ã€‡<ruby>æ•™<rt>ãã‚‡ã†</rt></ruby><ruby>ä¼æ¥<rt>ã§ã‚“ã‚‰ã„</rt></ruby>",
      "1555 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":             "ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",
      "1560 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":             "ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",
      "1561 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":           "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",
      "1567 ã€‡ã€‡ã«æ”¹åï¼ˆç¨²è‘‰å±±â†’ã€œï¼‰":     "ã€‡ã€‡ã«<ruby>æ”¹å<rt>ã‹ã„ã‚ã„</rt></ruby>ï¼ˆ<ruby>ç¨²è‘‰å±±<rt>ã„ãªã°ã‚„ã¾</rt></ruby>â†’ã€œï¼‰",
      "1568 ã€‡ã€‡ã€‡ã€‡ãŒäº¬éƒ½ã«å…¥ã‚‹":         "ã€‡ã€‡ã€‡ã€‡ãŒ<ruby>äº¬éƒ½<rt>ãã‚‡ã†ã¨</rt></ruby>ã«<ruby>å…¥<rt>ã¯ã„</rt></ruby>ã‚‹",

      "1570 ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":               "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",
      "1571 ã€‡ã€‡ã€‡ã€‡ã€‡ç„¼ãè¨ã¡":           "ã€‡ã€‡ã€‡ã€‡ã€‡<ruby>ç„¼<rt>ã‚„</rt></ruby>ã<ruby>è¨<rt>ã†</rt></ruby>ã¡",
      "1573 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒãŠã‚ã‚‹":         "ã€‡ã€‡ã€‡ã€‡<ruby>å¹•åºœ<rt>ã°ããµ</rt></ruby>ãŒ<ruby>çµ‚<rt>ãŠ</rt></ruby>ã‚ã‚‹",
      "1575 ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":               "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",
      "1576 ã€‡ã€‡ã€‡åŸã‚’ç¯‰ã":               "ã€‡ã€‡ã€‡<ruby>åŸ<rt>ã˜ã‚‡ã†</rt></ruby>ã‚’<ruby>ç¯‰<rt>ããš</rt></ruby>ã",
      "1582 ã€‡ã€‡ã€‡ã€‡ã€‡ã®å¤‰":               "ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>å¤‰<rt>ã¸ã‚“</rt></ruby>",
      "1582 ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":               "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",
      "1583 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":             "ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",
      "1584 ã€‡ã€‡ã€‡ãƒ»ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":       "ã€‡ã€‡ã€‡ãƒ»ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",
      "1585 ã€‡ã€‡ã€‡ã€‡ã«ãªã‚‹":               "ã€‡ã€‡ã€‡ã€‡ã«<ruby>æˆ<rt>ãª</rt></ruby>ã‚‹",
      "1587 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã‚’å¹³å®š":           "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã‚’<ruby>å¹³å®š<rt>ã¸ã„ã¦ã„</rt></ruby>",
      "1588 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ä»¤":             "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡<ruby>ä»¤<rt>ã‚Œã„</rt></ruby>",
      "1590 ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":               "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",
      "1591 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ãŒå‡ºã‚‹":       "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ãŒ<ruby>å‡º<rt>ã§</rt></ruby>ã‚‹",
      "1592 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®å½¹":           "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>å½¹<rt>ãˆã</rt></ruby>",
      "1597 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®å½¹":         "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>å½¹<rt>ãˆã</rt></ruby>",
      "1598 ã€‡ã€‡ã€‡ã€‡ãŒãªããªã‚‹":           "ã€‡ã€‡ã€‡ã€‡ãŒ<ruby>äº¡<rt>ãª</rt></ruby>ããªã‚‹",
      "1600 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":             "ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",

      "1577 ã€‡ã€‡ã€‡ã€‡ãƒ»ã€‡ã€‡ã€‡ã‚’ã™ã™ã‚ã‚‹":   "ã€‡ã€‡ã€‡ã€‡ãƒ»ã€‡ã€‡ã€‡ã‚’<ruby>å‹§<rt>ã™ã™</rt></ruby>ã‚ã‚‹",
      "1582 ã€‡ã€‡ã€‡ã€‡<ruby>æ¤œåœ°<rt>ã‘ã‚“ã¡</rt></ruby>ãŒã™ã™ã‚€": "ã€‡ã€‡ã€‡ã€‡<ruby>æ¤œåœ°<rt>ã‘ã‚“ã¡</rt></ruby>ãŒã™ã™ã‚€",
      "1583 ã€‡ã€‡ã€‡ã€‡åŸã‚’ç¯‰ã":             "ã€‡ã€‡ã€‡ã€‡<ruby>åŸ<rt>ã˜ã‚‡ã†</rt></ruby>ã‚’<ruby>ç¯‰<rt>ããš</rt></ruby>ã"
    },
    blanks: {
      "1467 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":                ["ãŠã†ã«ã‚“"],
      "1485 ã€‡ã€‡ã€‡ã€‡å›½ä¸€æ†":              ["ã‚„ã¾ã—ã‚"],

      "1543 ã€‡ã€‡ã€‡ã€‡ä¼æ¥":                ["ã¦ã£ã½ã†"],
      "1549 ã€‡ã€‡ã€‡ã€‡æ•™ä¼æ¥":              ["ãã‚Šã™ã¨"],
      "1555 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":            ["ã„ã¤ãã—ã¾"],
      "1560 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":            ["ãŠã‘ã¯ã–ã¾"],
      "1561 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":          ["ã‹ã‚ãªã‹ã˜ã¾"],
      "1567 ã€‡ã€‡ã«æ”¹åï¼ˆç¨²è‘‰å±±â†’ã€œï¼‰":    ["ããµ"],
      "1568 ã€‡ã€‡ã€‡ã€‡ãŒäº¬éƒ½ã«å…¥ã‚‹":        ["ã®ã¶ãªãŒ"],

      "1570 ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":              ["ã‚ã­ãŒã‚"],
      "1571 ã€‡ã€‡ã€‡ã€‡ã€‡ç„¼ãè¨ã¡":          ["ã²ãˆã„ã–ã‚“"],
      "1573 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒãŠã‚ã‚‹":        ["ã‚€ã‚ã¾ã¡"],
      "1575 ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":              ["ãªãŒã—ã®"],
      "1576 ã€‡ã€‡ã€‡åŸã‚’ç¯‰ã":              ["ã‚ã¥ã¡"],
      "1582 ã€‡ã€‡ã€‡ã€‡ã€‡ã®å¤‰":              ["ã»ã‚“ã®ã†ã˜"],
      "1582 ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":              ["ã‚„ã¾ã–ã"],
      "1583 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":            ["ã—ãšãŒãŸã‘"],
      "1584 ã€‡ã€‡ã€‡ãƒ»ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":      ["ã“ã¾ã","ãªãŒãã¦"],
      "1585 ã€‡ã€‡ã€‡ã€‡ã«ãªã‚‹":              ["ã‹ã‚“ã±ã"],
      "1587 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã‚’å¹³å®š":          ["ãã‚…ã†ã—ã‚…ã†"],
      "1588 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ä»¤":            ["ã‹ãŸãªãŒã‚Šã‚Œã„"],
      "1590 ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":              ["ãŠã ã‚ã‚‰"],
      "1591 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ãŒå‡ºã‚‹":      ["ã¿ã¶ã‚“ã¨ã†ã›ã„ã‚Œã„"],
      "1592 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®å½¹":          ["ã¶ã‚“ã‚ãã®ãˆã"],
      "1597 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®å½¹":        ["ã‘ã„ã¡ã‚‡ã†ã®ãˆã"],
      "1598 ã€‡ã€‡ã€‡ã€‡ãŒãªããªã‚‹":          ["ã²ã§ã‚ˆã—"],
      "1600 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":            ["ã›ããŒã¯ã‚‰"],

      "1577 ã€‡ã€‡ã€‡ã€‡ãƒ»ã€‡ã€‡ã€‡ã‚’ã™ã™ã‚ã‚‹":  ["ã‚‰ãã„ã¡","ã‚‰ãã–"],
      "1582 ã€‡ã€‡ã€‡ã€‡æ¤œåœ°ãŒã™ã™ã‚€":        ["ãŸã„ã“ã†"],
      "1583 ã€‡ã€‡ã€‡ã€‡åŸã‚’ç¯‰ã":            ["ãŠãŠã•ã‹"]
    }
  }

};

/* ========= å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ ========= */
const eraSelect = document.getElementById("eraSelect");
const chapterFilter = document.getElementById("chapterFilter");
const infoBox = document.getElementById("info");
const town = document.getElementById("town");
const zukanPanel = document.getElementById("zukanPanel");
const zukanList = document.getElementById("zukanList");
const completeMsg = document.getElementById("completeMsg");
const zukanBtn = document.getElementById("zukanBtn");
const closeZukan = document.getElementById("closeZukan");
const resetBtn = document.getElementById("resetBtn");

const quizModal  = document.getElementById("quizModal");
const quizTitle  = document.getElementById("quizTitle");
const quizHint   = document.getElementById("quizHint");
const quizInput  = document.getElementById("quizInput");
const quizOk     = document.getElementById("quizOk");
const quizCancel = document.getElementById("quizCancel");
const quizBg     = document.getElementById("quizBg");

let currentEra = "edo";
let gotCards = {}; // ç¾åœ¨ã®æ™‚ä»£ã®é€²æ—

function onlyHiraAndSep(s){ return /^[\u3041-\u3096\sãƒ»,ï¼Œã€/ï¼]+$/.test(s); }
function splitTokens(ans){
  let s = ans.replace(/[ãƒ»,ï¼Œã€/ï¼]+/g, ' ');
  s = s.replace(/\s+/g, ' ').trim();
  return s ? s.split(' ') : [];
}
function persist(){ try { localStorage.setItem(dataSets[currentEra].LS_KEY, JSON.stringify(gotCards)); } catch(e){} }
function loadProgress(){
  const raw = localStorage.getItem(dataSets[currentEra].LS_KEY);
  try{ gotCards = raw ? JSON.parse(raw) : {}; } catch{ gotCards = {}; }
}

/* ========= è¡¨ç¤ºæ§‹ç¯‰ ========= */
function withRubyMasked(fullName){
  const m = dataSets[currentEra].ruby[fullName];
  if(m) {
    const sp = fullName.indexOf(" ");
    const year = fullName.slice(0, sp);
    return `<span class="yr">${year}</span> ${m}`;
  }
  return fullName;
}

function buildChapterFilter(){
  chapterFilter.innerHTML = `<option value="ALL">ç« ï¼šãœã‚“ã¶</option>`;
  const chapters = dataSets[currentEra].chapters;
  Object.keys(chapters).forEach(ch=>{
    chapterFilter.innerHTML += `<option value="${ch}">${ch}</option>`;
  });
}

function buildCards(){
  const wrap = document.getElementById("cards");
  wrap.innerHTML = "";
  const sel = chapterFilter.value;
  const chapters = dataSets[currentEra].chapters;
  Object.keys(chapters).forEach(ch=>{
    if(sel!=="ALL" && sel!==ch) return;
    for(const name in chapters[ch]){
      const el = document.createElement("div");
      el.className = "card";
      el.dataset.card = name;
      if(gotCards[name]) { el.innerHTML = withRubyMasked(name); el.classList.add("done"); }
      else { el.textContent = "ï¼Ÿ\n" + name.split(" ")[0]; }
      el.addEventListener("click", ()=>onCardClick(el, name, ch));
      wrap.appendChild(el);
    }
  });
}

function renderZukan(){
  zukanList.innerHTML = "";
  let allComplete = true;
  const chapters = dataSets[currentEra].chapters;
  for(const ch in chapters){
    const section = document.createElement("div");
    section.className = "zukanSec";
    section.innerHTML = `<h3>${ch}</h3>`;
    for(const name in chapters[ch]){
      const div = document.createElement("div");
      div.className = "zCard";
      if(gotCards[name]){
        div.innerHTML = withRubyMasked(name);
      }else{
        div.textContent = "ï¼Ÿï¼Ÿï¼Ÿ";
        div.classList.add("locked");
        allComplete = false;
      }
      section.appendChild(div);
    }
    zukanList.appendChild(section);
  }
  if(allComplete){
    completeMsg.textContent = `ğŸ‰ ${dataSets[currentEra].title}ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆï¼ãŠã‚ã§ã¨ã†ï¼ ğŸ‰`;
    launchPetals();
  }else{
    completeMsg.textContent = "";
  }
}

function launchPetals(){
  for(let i=0;i<24;i++){
    const p=document.createElement("div");
    p.className="petal";
    p.textContent="ğŸŒ¸";
    p.style.left = Math.random()*100 + "vw";
    p.style.animationDuration = (3 + Math.random()*3) + "s";
    document.body.appendChild(p);
    setTimeout(()=>p.remove(), 7000);
  }
}

/* ========= ã‚¯ã‚¤ã‚ºï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰ ========= */
let quizCtx = { card:null, name:"", ch:"", expected:[] };

function openQuiz(card, name, ch){
  const expected = dataSets[currentEra].blanks[name];
  if(!expected){ alert("ã“ã®ã‚«ãƒ¼ãƒ‰ã®ç©ºæ¬„ç­”ãˆãŒæœªç™»éŒ²ã§ã™"); return; }
  quizCtx = { card, name, ch, expected };

  quizTitle.innerHTML = withRubyMasked(name);
  quizHint.textContent = expected.length >= 2
    ? `ç©ºæ¬„ã¯ ${expected.length} ã“ã€‚é †ç•ªã«å…¥åŠ›ã—ã¦ã­`
    : `ç©ºæ¬„ã¯ 1 ã“ã€‚ä¾‹ï¼šãˆã©`;

  quizModal.classList.add("active");
  quizModal.setAttribute("aria-hidden","false");
  quizInput.value = "";
  setTimeout(()=>quizInput.focus(), 50);
}
function closeQuiz(){
  quizModal.classList.remove("active");
  quizModal.setAttribute("aria-hidden","true");
}

function submitQuiz(){
  const { card, name, ch, expected } = quizCtx;
  if(!card) return;
  const raw = quizInput.value.trim();
  if(!onlyHiraAndSep(raw)){
    alert("ã²ã‚‰ãŒãª ã ã‘ã§å…¥åŠ›ã—ã¦ã­ï¼ˆåŒºåˆ‡ã‚Šã¯ ã‚¹ãƒšãƒ¼ã‚¹/ãƒ»/ã€/ï¼Œ/ï¼ ã ã‘OKï¼‰");
    quizInput.focus(); return;
  }
  const tokens = splitTokens(raw);
  const joined = tokens.join("");
  const expectJoined = expected.join("");

  let ok = false;
  if(tokens.length === expected.length){
    ok = tokens.every((t,i)=>t === expected[i]);
  }else if(tokens.length === 1){
    ok = joined === expectJoined; // ã¾ã¨ã‚å…¥åŠ›OK
  }

  if(!ok){
    alert(`ã–ã‚“ã­ã‚“ï¼ã›ã„ã‹ã„ã¯ã€Œ${expected.join(" ãƒ» ")}ã€ã ã‚ˆï¼ˆã€‡ã®éƒ¨åˆ†ã ã‘ï¼‰`);
    quizInput.focus();
    return;
  }

  // æ­£è§£å‡¦ç†
  closeQuiz();
  const data = dataSets[currentEra].chapters[ch][name];
  card.innerHTML = withRubyMasked(name);
  card.classList.add("done");
  infoBox.textContent = data.text;

  const b = document.createElement("div");
  b.className = "building";
  b.textContent = data.icon;
  b.style.left = (Math.random()*80 + 5) + "%";
  b.style.top  = (Math.random()*70 + 5) + "%";
  town.appendChild(b);
  setTimeout(()=>b.classList.add("show"),50);

  const v = document.createElement("div");
  v.className = "villager";
  v.textContent = Math.random()>0.5 ? "ğŸ˜Š" : "ğŸ‘˜";
  v.style.top = Math.floor(Math.random()*(town.clientHeight-40)) + "px";
  town.appendChild(v);

  gotCards[name] = true;
  persist();
  renderZukan();
}

function onCardClick(card, name, ch){
  if(card.classList.contains("done")) return;
  openQuiz(card, name, ch);
}

/* ========= ã‚¤ãƒ™ãƒ³ãƒˆ ========= */
quizCancel.addEventListener("click", closeQuiz);
quizBg.addEventListener("click", closeQuiz);
quizOk.addEventListener("click", submitQuiz);
quizInput.addEventListener("keydown", e=>{ if(e.key === "Enter") submitQuiz(); });

zukanBtn.addEventListener("click", ()=>{
  const active = !zukanPanel.classList.contains("active");
  zukanPanel.classList.toggle("active");
  zukanPanel.setAttribute("aria-hidden", active ? "false" : "true");
  zukanBtn.setAttribute("aria-expanded", String(active));
});
closeZukan.addEventListener("click", ()=>{
  zukanPanel.classList.remove("active");
  zukanPanel.setAttribute("aria-hidden","true");
  zukanBtn.setAttribute("aria-expanded","false");
});
chapterFilter.addEventListener("change", buildCards);

// ãƒªã‚»ãƒƒãƒˆ
resetBtn.addEventListener("click", ()=>{
  if(!confirm(`${dataSets[currentEra].title}ã®é€²æ—ï¼ˆé–‹ã„ãŸã‚«ãƒ¼ãƒ‰ãƒ»ç”ºã¥ãã‚Šï¼‰ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ`)) return;
  localStorage.removeItem(dataSets[currentEra].LS_KEY);
  gotCards = {};
  document.querySelectorAll("#town .building, #town .villager").forEach(el=>el.remove());
  infoBox.textContent = "æ™‚ä»£ã‚’ãˆã‚‰ã‚“ã§ã‚«ãƒ¼ãƒ‰ã‚’ã‚ãã‚ã†ï¼ ã€‡ã®éƒ¨åˆ†ã ã‘ã‚’ã€Œã²ã‚‰ãŒãªã€ã§ç­”ãˆã‚‹ã¨é–‹ãã‚ˆã€‚";
  zukanPanel.classList.remove("active");
  zukanPanel.setAttribute("aria-hidden","true");
  zukanBtn.setAttribute("aria-expanded","false");
  buildCards();
  renderZukan();
  alert("ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸï¼");
});

// ã‚¤ãƒ³ãƒˆãƒ­ã®ã‚¯ã‚¤ãƒƒã‚¯ãƒœã‚¿ãƒ³ã§æ™‚ä»£åˆ‡ã‚Šæ›¿ãˆ
document.getElementById("playEdo").addEventListener("click", (e)=>{
  e.preventDefault();
  eraSelect.value = "edo";
  eraSelect.dispatchEvent(new Event("change"));
  document.getElementById("cards").scrollIntoView({ behavior: "smooth" });
});
document.getElementById("playMuromachi").addEventListener("click", (e)=>{
  e.preventDefault();
  eraSelect.value = "muromachi";
  eraSelect.dispatchEvent(new Event("change"));
  document.getElementById("cards").scrollIntoView({ behavior: "smooth" });
});
document.getElementById("playKamakura").addEventListener("click", (e)=>{
  e.preventDefault();
  eraSelect.value = "kamakura";
  eraSelect.dispatchEvent(new Event("change"));
  document.getElementById("cards").scrollIntoView({ behavior: "smooth" });
});
document.getElementById("openZukan").addEventListener("click", (e)=>{
  e.preventDefault();
  zukanPanel.classList.add("active");
  zukanPanel.setAttribute("aria-hidden","false");
  zukanBtn.setAttribute("aria-expanded","true");
  zukanPanel.scrollIntoView({ behavior: "smooth" });
});

// æ™‚ä»£åˆ‡æ›¿
eraSelect.addEventListener("change", ()=>{
  currentEra = eraSelect.value;
  document.querySelectorAll("#town .building, #town .villager").forEach(el=>el.remove());
  loadProgress();
  buildChapterFilter();
  buildCards();
  renderZukan();
});

/* ========= åˆæœŸæç”» ========= */
loadProgress();
buildChapterFilter();
buildCards();
renderZukan();

// ä¿å­˜å¾©å…ƒï¼ˆå»ºç‰©ï¼†ä½äººï¼‰
(function restoreTown(){
  const chapters = dataSets[currentEra].chapters;
  for(const ch in chapters){
    for(const name in chapters[ch]){
      if(!gotCards[name]) continue;
      const item = chapters[ch][name];
      const b = document.createElement("div");
      b.className = "building show";
      b.textContent = item.icon;
      b.style.left = (Math.random()*80 + 5) + "%";
      b.style.top = (Math.random()*70 + 5) + "%";
      town.appendChild(b);
      const v = document.createElement("div");
      v.className = "villager";
      v.textContent = Math.random()>0.5 ? "ğŸ˜Š" : "ğŸ‘˜";
      v.style.top = Math.floor(Math.random()* (town.clientHeight-40)) + "px";
      town.appendChild(v);
    }
  }
})();
</script>

<!-- å›ºå®šã®ãƒãƒŠãƒ¼åºƒå‘Šã‚’ä½¿ã†å ´åˆã¯ã€.adslot ã®ä¸­èº«ã‚’åºƒå‘Šãƒ¦ãƒ‹ãƒƒãƒˆã«ç½®æ›ã—ã€ç›´å¾Œã§ push ã—ã¦ãã ã•ã„ã€‚ -->
<!-- ä¾‹
<ins class="adsbygoogle"
     style="display:block;height:60px"
     data-ad-client="ca-pub-4922140858632050"
     data-ad-slot="**********"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
-->

<p style="padding:0 12px;">
  <strong>å­ã©ã‚‚å‘ã‘ æ­´å² å­¦ç¿’</strong>ã¨ã—ã¦ã€ã¾ãšã¯
  <a href="#cards" id="footEdo">æ±Ÿæˆ¸ã®ã‚¯ã‚¤ã‚º</a>ã€
  <a href="#cards" id="playSengoku" style="display:inline-block;background:#f6d5a4;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#222;">æˆ¦å›½æ™‚ä»£ã§éŠã¶</a>
 <a href="#cards" id="footMuromachi">å®¤ç”ºã®ã‚¯ã‚¤ã‚º</a>ã€
  <a href="#cards" id="footKamakura">éŒå€‰ã®ã‚¯ã‚¤ã‚º</a> ã‹ã‚‰å§‹ã‚ã‚ˆã†ã€‚å›³é‘‘ã§
  <a href="#zukanPanel" id="footZukan">å¹´è¡¨</a>ã‚‚è¦‹ã‚‰ã‚Œã‚‹ã‚ˆã€‚
 

</p>
<script>
  // ãƒ•ãƒƒã‚¿ãƒ¼ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚‚æ™‚ä»£åˆ‡æ›¿
  document.getElementById("footEdo").addEventListener("click", (e)=>{e.preventDefault(); eraSelect.value="edo"; eraSelect.dispatchEvent(new Event("change")); document.getElementById("cards").scrollIntoView({behavior:"smooth"});});
  document.getElementById("footMuromachi").addEventListener("click", (e)=>{e.preventDefault(); eraSelect.value="muromachi"; eraSelect.dispatchEvent(new Event("change")); document.getElementById("cards").scrollIntoView({behavior:"smooth"});});
  document.getElementById("footKamakura").addEventListener("click", (e)=>{e.preventDefault(); eraSelect.value="kamakura"; eraSelect.dispatchEvent(new Event("change")); document.getElementById("cards").scrollIntoView({behavior:"smooth"});});
  document.getElementById("footZukan").addEventListener("click", (e)=>{e.preventDefault(); document.getElementById("openZukan").click();});
document.getElementById("footSengoku").addEventListener("click", (e) => {
  e.preventDefault();
  eraSelect.value = "sengoku";                // ã‚»ãƒ¬ã‚¯ãƒˆã‚’æˆ¦å›½ã«åˆ‡ã‚Šæ›¿ãˆ
  eraSelect.dispatchEvent(new Event("change")); // changeã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«
  document.getElementById("cards").scrollIntoView({behavior:"smooth"}); // ã‚«ãƒ¼ãƒ‰ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
});</script>

</body>
</html>






















