<!DOCTYPE html>
<html lang="ja">
  <script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"FAQPage",
  "mainEntity":[
    {
      "@type":"Question",
      "name":"å¯¾è±¡ã¯å°å­¦ç”Ÿã§ã™ã‹ï¼Ÿ",
      "acceptedAnswer":{"@type":"Answer","text":"ã¯ã„ã€‚ã§ã™ãŒã€å¹´å°‘ã€å¹´ä¸­ã€å¹´é•·ã•ã‚“ã§ã‚‚éŠã³ãªãŒã‚‰æ­´å²ã«è¦ªã—ã‚ã‚‹ã‚ˆã†ã«ã€ã²ã‚‰ãŒãªã‚¯ã‚¤ã‚ºã‚„å›³é‘‘ï¼ˆå¹´è¡¨ï¼‰ã§ã‚„ã•ã—ãå­¦ã¹ã¾ã™ã€‚"}
    },
    {
      "@type":"Question",
      "name":"ç„¡æ–™ã§ä½¿ãˆã¾ã™ã‹ï¼Ÿ",
      "acceptedAnswer":{"@type":"Answer","text":"ç„¡æ–™ã§åˆ©ç”¨ã§ãã¾ã™ã€‚ã‚µã‚¤ãƒˆä¸‹éƒ¨ã«åºƒå‘ŠãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚"}
    },
    {
      "@type":"Question",
      "name":"ã©ã‚“ãªå­¦ç¿’å†…å®¹ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
      "acceptedAnswer":{"@type":"Answer","text":"æ±Ÿæˆ¸æ™‚ä»£ãƒ»å®¤ç”ºæ™‚ä»£ã®ä¸»è¦ãªå‡ºæ¥äº‹ã‚’ã€å¹´ã¨å‡ºæ¥äº‹ã‚’çµã³ã¤ã‘ã‚‹ã‚¯ã‚¤ã‚ºã€å¹´è¡¨ã®æ‹¡å¼µè¡¨ç¤ºã€ã‚«ãƒ¼ãƒ‰åé›†ã¨è¡—ã¥ãã‚Šæ¼”å‡ºã§å­¦ã¹ã¾ã™ã€‚"}
    },
    {
      "@type":"Question",
      "name":"ã‚¹ãƒãƒ›ã‚„ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã‚‚ä½¿ãˆã¾ã™ã‹ï¼Ÿ",
      "acceptedAnswer":{"@type":"Answer","text":"ã¯ã„ã€‚ç¸¦ç”»é¢ãƒ»1ç”»é¢ã§éŠã¹ã‚‹ã‚ˆã†æœ€é©åŒ–ã—ã¦ã„ã¾ã™ã€‚"}
    }
  ]
}
</script>

<head>
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6Z9WN4HFK5"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-6Z9WN4HFK5');
  </script>

  <!-- Search Console æ‰€æœ‰æ¨© -->
  <meta name="google-site-verification" content="bgJFyYeBgPsces8Rz5ONG_d-nj8ZEH_fHddcwAXMX0U" />

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

  <!-- SEO -->
<title>æ­´å²ã‚­ãƒƒã‚ºï½œå°å­¦ç”Ÿå‘ã‘æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆï¼ˆæ±Ÿæˆ¸æ™‚ä»£ãƒ»å®¤ç”ºæ™‚ä»£ã®ã‚¯ã‚¤ã‚ºï¼å¹´è¡¨ï¼ã‚«ãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ ï¼‰</title>
<meta name="description" content="æ­´å²ã‚­ãƒƒã‚ºã¯å°å­¦ç”Ÿå‘ã‘ã®æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆã€‚æ±Ÿæˆ¸æ™‚ä»£ãƒ»å®¤ç”ºæ™‚ä»£ã‚’ã‚¯ã‚¤ã‚ºï¼å¹´è¡¨ï¼ã‚«ãƒ¼ãƒ‰é›†ã‚ã®è¡—ã¥ãã‚Šã§æ¥½ã—ãå­¦ã¹ã¾ã™ã€‚ã‚¹ãƒãƒ›å¯¾å¿œãƒ»ç„¡æ–™ã§éŠã¹ã‚‹å­ã©ã‚‚å‘ã‘æ­´å²æ•™æã€‚">
<link rel="canonical" href="https://historykids.github.io/">


  <!-- OGP -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://historykids.github.io/" />
  <meta property="og:title" content="æ¥½ã—ãå­¦ã¹ã‚‹ï¼å­ä¾›å‘ã‘æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆï½œæ­´å²ã‚­ãƒƒã‚º" />
  <meta property="og:description" content="æ±Ÿæˆ¸ã‚„å®¤ç”ºã®å‡ºæ¥äº‹ã‚’ã‚«ãƒ¼ãƒ‰ã‚’é›†ã‚ãªãŒã‚‰å­¦ã¹ã‚‹ã€å­ä¾›å‘ã‘ã®æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆã€‚éŠã³ãªãŒã‚‰æ­´å²ã‚’å­¦ã¼ã†ï¼" />
  <meta property="og:image" content="https://historykids.github.io/thumbnail.png" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="æ¥½ã—ãå­¦ã¹ã‚‹ï¼å­ä¾›å‘ã‘æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆï½œæ­´å²ã‚­ãƒƒã‚º" />
  <meta name="twitter:description" content="æ±Ÿæˆ¸ã‚„å®¤ç”ºã®å‡ºæ¥äº‹ã‚’ã‚«ãƒ¼ãƒ‰ã‚’é›†ã‚ãªãŒã‚‰å­¦ã¹ã‚‹ã€å­ä¾›å‘ã‘ã®æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆã€‚" />
  <meta name="twitter:image" content="https://historykids.github.io/thumbnail.png" />

  <!-- AdSenseï¼ˆ1ã¤ã ã‘ã§OKï¼‰ -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4922140858632050" crossorigin="anonymous"></script>

  <style>
    /* === ä¸Šéƒ¨PRãƒãƒ¼ === */
.promoBar{
  background:#fffbe6;
  border-bottom:1px solid #e6d400;
  padding:8px 12px;
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:center;
  flex-wrap:wrap;
  box-shadow:0 1px 3px rgba(0,0,0,.08);
}
.promoBar b{ color:#b58900; }
.promoBar .title{ font-weight:700; }
.promoBar .button{
  display:inline-block; background:#ffd814; color:#111;
  padding:8px 12px; border-radius:8px; font-weight:700;
  text-decoration:none; box-shadow:0 1px 3px rgba(0,0,0,.15);
}
.promoBar small{ color:#666; }

    /* â† ã“ã“ã«ä»Šã® CSS ã‚’ãã®ã¾ã¾ç½®ãï¼ˆå†…å®¹ã¯ã‚ãªãŸã®ã¾ã¾ã§OKï¼‰ */
      :root{
    --edo-yellow:#FCD34D; --edo-info:#FFF8DC; --edo-border:#999;
    --bg:#FFF6E3; --shadow:rgba(0,0,0,.12); --ink:#222; --adbg:#f1f1f1;
  }
  *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
  html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--ink);
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,
      "Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic",Meiryo,sans-serif;}
  .wrap{display:flex;flex-direction:column;min-height:100svh;}
  header{position:sticky;top:0;z-index:3;background:var(--edo-yellow);
    padding:10px 12px;display:flex;gap:8px;align-items:center;justify-content:space-between;
    box-shadow:0 1px 4px var(--shadow);}
  header h1{font-size:18px;margin:0;font-weight:700}
  header .controls{display:flex;gap:8px;align-items:center}
  header button, header select{border:0;border-radius:10px;background:#fff;padding:6px 12px;
    font-weight:700;box-shadow:0 1px 3px var(--shadow);cursor:pointer}
  #resetBtn{background:#ffeaea}
  #info{padding:10px;background:var(--edo-info);border-bottom:1px solid #ccc;
    font-size:15px;min-height:40px}
  #town{position:relative;width:100%;height:44vh;min-height:260px;background:#fff;
    border-top:2px solid var(--edo-border);border-bottom:2px solid var(--edo-border);
    overflow:hidden}
  #cards{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;padding:10px}
  .card{width:28vw;max-width:110px;min-width:86px;height:120px;border-radius:12px;background:#ddd;
    display:flex;align-items:center;justify-content:center;font-weight:700;font-size:15px;
    cursor:pointer;box-shadow:0 2px 6px var(--shadow);user-select:none;text-align:center;padding:6px}
  .card.done{background:#cdeccd; color:#1a5e1a}
  .building{position:absolute;font-size:34px;opacity:0;transform:scale(.8);
    transition:opacity .7s, transform .7s}
  .show{opacity:1;transform:scale(1.2)}
  .villager{position:absolute;font-size:20px;animation:walk 8s linear infinite}
  @keyframes walk{0%{left:2%}50%{left:90%}100%{left:2%}}
  #zukanPanel{position:fixed;inset:0 0 auto 0;height:72%;top:-100%;background:#fff;
    border-bottom:3px solid #333;box-shadow:0 4px 16px var(--shadow);
    transition:top .45s ease;z-index:5;overflow:auto}
  #zukanPanel.active{top:0}
  #zukanHead{position:sticky;top:0;background:#fff;padding:10px;border-bottom:1px solid #eee;
    display:flex;align-items:center;gap:8px}
  #zukanHead h2{margin:0;font-size:18px}
  #closeZukan{margin-left:auto;border:0;background:#eee;border-radius:8px;padding:6px 12px;cursor:pointer}
  .zukanSec{padding:10px}
  .zukanSec h3{margin:8px 0}
  .zCard{display:inline-flex;align-items:center;justify-content:center;width:96px;height:116px;margin:4px;
    border:1px solid #ccc;border-radius:8px;box-shadow:0 1px 3px var(--shadow);white-space:pre-line;text-align:center;padding:6px}
  .locked{background:#eee;color:#999}
  #completeMsg{font-size:18px;font-weight:800;color:green;text-align:center;padding:10px}
  .petal{position:fixed;top:-10px;font-size:20px;animation:fall linear forwards;pointer-events:none}
  @keyframes fall{to{transform:translateY(110vh) rotate(360deg);opacity:0}}
  .adbar{position:sticky;bottom:0;background:var(--adbg);border-top:1px solid #ddd;
    padding:4px 8px; display:flex; justify-content:center; align-items:center; min-height:52px}
  .adslot{width:100%; max-width:728px; height:50px; background:
    repeating-linear-gradient(45deg,#eee,#eee 8px,#e2e2e2 8px,#e2e2e2 16px);
    border:1px dashed #bbb;border-radius:8px; display:flex; align-items:center; justify-content:center;
    font-size:12px; color:#666}
  footer{height:8px}
  .landscapeWarn{position:fixed;inset:0;background:rgba(0,0,0,.65);color:#fff;display:none;
    align-items:center;justify-content:center;z-index:20;text-align:center;padding:20px}
  @media (orientation:landscape){ .landscapeWarn{display:flex} }
  ruby rt{font-size:.7em;color:#444}
  .yr{font-weight:800;margin-right:2px}

  /* === ã‚¯ã‚¤ã‚ºç”¨ãƒ¢ãƒ¼ãƒ€ãƒ« === */
  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:30}
  .modal.active{display:flex}
  .modal-bg{position:absolute;inset:0;background:rgba(0,0,0,.5)}
  .modal-box{position:relative;z-index:1;width:min(92vw,560px);background:#fff;border-radius:12px;
    box-shadow:0 10px 30px rgba(0,0,0,.2);padding:14px}
  .quiz-title{font-weight:800;font-size:16px;margin:0 0 6px 0}
  .quiz-instruction{font-size:14px;margin:6px 0 10px 0;color:#444}
  #quizInput{width:100%;padding:10px 12px;font-size:16px;border:1px solid #ccc;border-radius:10px}
  .quiz-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:10px}
  .quiz-actions button{border:0;border-radius:10px;padding:8px 14px;background:#eee;cursor:pointer}
  .quiz-actions #quizOk{background:#cdeccd;color:#145f14;font-weight:700}
  </style>
</head>




 

  
</script> 
<body>
<div class="wrap" role="application" aria-label="æ±Ÿæˆ¸ãƒ»å®¤ç”ºã‚«ãƒ¼ãƒ‰ã§ç”ºã¥ãã‚Šï¼ˆå®Œæˆç‰ˆï¼‰">
  <header>
    <h1>æ­´å²ã‚­ãƒƒã‚ºï½œå°å­¦ç”Ÿå‘ã‘ æ­´å²å­¦ç¿’ï¼ˆæ±Ÿæˆ¸æ™‚ä»£ãƒ»å®¤ç”ºæ™‚ä»£ï¼‰ã‚«ãƒ¼ãƒ‰ã§ç”ºã¥ãã‚Šï¼</h1>

    <div class="controls">
      <label for="eraSelect" style="font-size:12px">æ™‚ä»£ï¼š</label>
      <select id="eraSelect" title="æ™‚ä»£ã‚’ãˆã‚‰ã¶">
        <option value="edo">æ±Ÿæˆ¸æ™‚ä»£</option>
        <option value="muromachi">å®¤ç”ºæ™‚ä»£</option>
      </select>
      <select id="chapterFilter" title="ç« ã‚’ãˆã‚‰ã¶">
        <option value="ALL">ç« ï¼šãœã‚“ã¶</option>
      </select>
      <button id="zukanBtn" aria-controls="zukanPanel" aria-expanded="false">å›³é‘‘</button>
      <button id="resetBtn" title="é€²æ—ã‚’å…¨éƒ¨æ¶ˆã—ã¦æœ€åˆã‹ã‚‰">ãƒªã‚»ãƒƒãƒˆ</button>
    </div>
  </header>
  <section id="intro" style="padding:10px 12px;background:#fff;">
  <p style="margin:0 0 8px;">
    å°å­¦ç”Ÿå‘ã‘ã®<span style="font-weight:700;">æ­´å²å­¦ç¿’ã‚µã‚¤ãƒˆ</span>ã§ã™ã€‚<br>
    <b>æ±Ÿæˆ¸æ™‚ä»£ãƒ»å®¤ç”ºæ™‚ä»£</b>ã®å‡ºæ¥äº‹ã‚’ã€<b>ã‚¯ã‚¤ã‚º</b>ã¨<b>å¹´è¡¨</b>ã€<b>ã‚«ãƒ¼ãƒ‰é›†ã‚</b>ã§æ¥½ã—ãå­¦ã¹ã¾ã™ï¼ˆã‚¹ãƒãƒ›å¯¾å¿œãƒ»ç„¡æ–™ï¼‰ã€‚
  </p>
  <nav style="display:flex;gap:8px;flex-wrap:wrap;">
    <a href="#cards" style="display:inline-block;background:#fcd34d;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#222;">æ±Ÿæˆ¸æ™‚ä»£ã§éŠã¶</a>
    <a href="#cards" style="display:inline-block;background:#fde68a;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#222;">å®¤ç”ºæ™‚ä»£ã§éŠã¶</a>
    <a href="#zukanPanel" style="display:inline-block;background:#e5e7eb;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none;color:#111;">å›³é‘‘ï¼ˆå¹´è¡¨ï¼‰ã‚’è¦‹ã‚‹</a>
  </nav>
</section>

  <!-- PRï¼šãŠã™ã™ã‚ã®æœ¬ï¼ˆãƒ‰ãƒ©ãˆã‚‚ã‚“ï¼‰ -->
<div class="promoBar" role="note" aria-label="ãŠã™ã™ã‚ã®æœ¬ï¼ˆPRï¼‰">
  <b>PR</b>
  <span class="title">æ­´å²å…¥é–€ã«ã´ã£ãŸã‚Šï¼<strong>ãƒ‰ãƒ©ãˆã‚‚ã‚“ã®ç¤¾ä¼šç§‘ãŠã‚‚ã—ã‚æ”»ç•¥ æ—¥æœ¬ã®æ­´å²</strong>ï¼ˆå°å­¦é¤¨ï¼‰</span>
  <a id="promoLink" class="button"
     href="https://amzn.asia/d/bu7qdsv"
     target="_blank" rel="noopener sponsored nofollow">
     Amazonã§è¦‹ã‚‹
  </a>
  <small>â€»å½“ã‚µã‚¤ãƒˆã¯ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆåºƒå‘Šã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™</small>
</div>


  <div id="info">æ™‚ä»£ã‚’ãˆã‚‰ã‚“ã§ã‚«ãƒ¼ãƒ‰ã‚’ã‚ãã‚ã†ï¼ ã€‡ã®éƒ¨åˆ†ã ã‘ã‚’ã€Œã²ã‚‰ãŒãªã€ã§ç­”ãˆã‚‹ã¨é–‹ãã‚ˆã€‚</div>
  <div id="town" role="img" aria-label="ç”ºã‚¨ãƒªã‚¢"></div>
  <div id="cards" aria-label="ã‚«ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢"></div>

  <section id="zukanPanel" aria-hidden="true">
    <div id="zukanHead">
      <h2>ã‚«ãƒ¼ãƒ‰å›³é‘‘ï¼ˆç« ã”ã¨ï¼‰</h2>
      <button id="closeZukan" aria-label="å›³é‘‘ã‚’ã¨ã˜ã‚‹">ã¨ã˜ã‚‹</button>
    </div>
    <div id="zukanList"></div>
    <div id="completeMsg"></div>
  </section>


  <!-- ä¸‹éƒ¨ã®å›ºå®šãƒãƒŠãƒ¼æ ï¼ˆå¿…è¦ãªã‚‰ä¸­èº«ã‚’ ad ãƒ¦ãƒ‹ãƒƒãƒˆã«å·®ã—æ›¿ãˆï¼‰ -->
  <div class="adbar" aria-label="åºƒå‘Šæ ">
    <div class="adslot">åºƒå‘Šã‚¹ãƒšãƒ¼ã‚¹ï¼ˆ<ins class="adsbygoogle">â€¦</ins> ã‚’å…¥ã‚Œã‚‹å ´æ‰€ï¼‰</div>
  </div>
  <footer aria-hidden="true"></footer>
</div>

<div class="landscapeWarn">ç¸¦å‘ãã§éŠã‚“ã§ã­ğŸ”„</div>

<!-- ã‚¯ã‚¤ã‚ºç”¨ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆæ¼¢å­—ã¯ãµã‚ŠãŒãªã¤ãã€ã€‡ã¯æ‰‹å‹•è¨­å®šã®ã¾ã¾è¡¨ç¤ºï¼‰ -->
<div id="quizModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-bg" id="quizBg"></div>
  <div class="modal-box">
    <div id="quizTitle" class="quiz-title"></div>
    <p class="quiz-instruction">
      ã€‡ã®ã¨ã“ã‚ã ã‘ã‚’ <b>ã²ã‚‰ãŒãª</b> ã§ã“ãŸãˆã¦ã­ã€‚<br>
      ç©ºæ¬„ãŒã„ãã¤ã‹ã‚ã‚‹ã¨ãã¯ <b>ã‚¹ãƒšãƒ¼ã‚¹ / ãƒ» / ã€ / ï¼</b> ã§åŒºåˆ‡ã£ã¦OKã€‚
      <span id="quizHint" style="color:#666"></span>
    </p>
    <input id="quizInput" type="text" inputmode="kana" autocomplete="off"
           placeholder="ã“ã“ã« ã²ã‚‰ãŒãª ã‚’å…¥åŠ›ï¼ˆä¾‹ï¼šã¦ã‚“ã½ã†ï¼‰" />
    <div class="quiz-actions">
      <button id="quizCancel">ã‚„ã‚ã‚‹</button>
      <button id="quizOk">æ±ºå®š</button>
    </div>
  </div>
</div>

<script>
/* =========================================================
   ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆï¼ˆæ±Ÿæˆ¸ï¼å®¤ç”ºï¼‰
   - ã€‡ã®æ•°ã¯â€œç­”ãˆã®ã²ã‚‰ãŒãªæ•°â€ã«æ‰‹å‹•ã§åˆã‚ã›æ¸ˆã¿
   - è¦‹ãˆã¦ã„ã‚‹æ¼¢å­—ã« ruby ã‚’ä»˜ä¸ï¼ˆã€‡ã¯ãã®ã¾ã¾ï¼‰
   ========================================================= */
const dataSets = {
  /* ---------- æ±Ÿæˆ¸æ™‚ä»£ ---------- */
  edo: {
    title: "æ±Ÿæˆ¸æ™‚ä»£",
    LS_KEY: "cards_edo_complete_v1",
    chapters: {
      "åˆæœŸ": {
        "1603 ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": { text: "å®¶åº·ãŒå°†è»ã«ãªã‚Šã€æ±Ÿæˆ¸ã§å›½ã®ä¸­å¿ƒãŒå‹•ãå‡ºã™ã€‚", icon: "ğŸ¯", year: 1603 },
        "1615 ã€‡ã€‡ã€‡ã€‡ã®é™£":       { text: "å¤§ããªãŸãŸã‹ã„ãŒçµ‚ã‚ã‚Šã€è±Šè‡£ã®æ™‚ä»£ã«å¹•ã€‚", icon: "âš”ï¸", year: 1615 },
        "1635 ã€‡ã€‡ã€‡äº¤ä»£":          { text: "å¤§åã¯å›½ã¨æ±Ÿæˆ¸ã‚’è¡Œãæ¥ã™ã‚‹ãã¾ã‚Šã«ã€‚", icon: "ğŸš¶", year: 1635 }, /* ã•ã‚“ãã‚“=3 */
        "1637 å³¶ã€‡ã€‡ãƒ»å¤©ã€‡ã€‡ã®ä¹±":  { text: "ä¹å·ã§å¤§ããªä¸€æ†ãŒèµ·ãã‚‹ã€‚", icon: "ğŸ”¥", year: 1637 },
        "1639 ã€‡ã€‡ã€‡ã€‡ã€‡èˆ¹ã®æ¥èˆªç¦æ­¢": { text: "å¤–å›½èˆ¹ã®å‡ºå…¥ã‚Šã‚’ã—ã‚ã¦ã€äº¤æµã‚’ã›ã„ã’ã‚“ã€‚", icon: "â›µ", year: 1639 },
        "1641 ã€‡ã€‡ã€‡ã§ã®è²¿æ˜“":      { text: "ã‚ªãƒ©ãƒ³ãƒ€å•†é¤¨ãŒé•·å´ã®å‡ºå³¶ã¸ã€‚", icon: "ğŸï¸", year: 1641 },
        "1657 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç«":      { text: "æ±Ÿæˆ¸ã®ç”ºãŒå¤§ç«äº‹ã€‚ç”ºã¥ãã‚Šã‚’ç«‹ã¦ç›´ã™ã€‚", icon: "ğŸ”¥", year: 1657 },
        "1657 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã¸ç§»è»¢":  { text: "éŠéƒ­ãŒæµ…è‰åƒæŸã®æ–°ã—ã„å ´æ‰€ã¸ã€‚", icon: "ğŸ®", year: 1657 }
      },
      "ä¸­æœŸ": {
        "1688 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": { text: "ç”ºäººã®æ–‡åŒ–ãŒèŠ±ã²ã‚‰ãã€‚æ­Œèˆä¼ã‚„æµ®ä¸–çµµãŒäººæ°—ã€‚", icon: "ğŸ­", year: 1688 },
        "1716 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©":         { text: "å‰å®—ãŒãã‚‰ã—ã¨è²¡æ”¿ã‚’ç«‹ã¦ç›´ã™å·¥å¤«ã‚’ã¯ã˜ã‚ã‚‹ã€‚", icon: "ğŸ“œ", year: 1716 }, /* äº«ä¿=4ï¼ˆãã‚‡ã†ã»ï¼‰ */
        "1720 ã€‡ã€‡ã€‡ã€‡ã‚’ã¨ã‚Šã„ã‚Œã‚‹":   { text: "æµ·å¤–ã®å­¦ã³ãŒåºƒãŒã‚Šã€çŸ¥è­˜ãŒãµãˆã‚‹ã€‚", icon: "ğŸ“š", year: 1720 },
        "1720 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ã—ãã¿":     { text: "ç«äº‹ã«ããªãˆã‚‹ç”ºäººã®çµ„ãŒã§ãã‚‹ã€‚", icon: "ğŸš’", year: 1720 },
        "1730 ã€‡ã€‡ã®ãªãŒã‚Œã‚’æ•´ãˆã‚‹":   { text: "å•†ã„ã®ãã¾ã‚Šã‚’ã¨ã¨ã®ãˆã€ç”ºã‚’å…ƒæ°—ã«ã€‚", icon: "ğŸ§º", year: 1730 },
        "1775 ã€‡ã€‡ã€‡ã®æ™‚ä»£":           { text: "å•†ã„ã‚’æ´»ã‹ã™æ”¿æ²»ã§ãŠé‡‘ã®æµã‚Œã‚’ã‚ˆãã™ã‚‹è©¦ã¿ã€‚", icon: "ğŸ’¹", year: 1775 },
        "1783 ã€‡ã€‡ã€‡ã€‡ã®ããã‚“":       { text: "å¯’ã•ã‚„ä¸ä½œã§é£Ÿã¹ç‰©ãŒãŸã‚Šãªããªã‚‹ã€‚", icon: "ğŸŒ¾", year: 1783 }
      },
      "å¹•æœ«": {
        "1787 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©":         { text: "ãã‚‰ã—ã‚’ã²ãã—ã‚ã€æ•™è‚²ã‚‚å¤§åˆ‡ã«ã™ã‚‹æ–¹é‡ã€‚", icon: "ğŸ“", year: 1787 },
        "1825 ã€‡ã€‡ã€‡ã€‡ã€‡æ‰“æ‰•ä»¤":       { text: "è¿‘ã¥ãå¤–å›½èˆ¹ã‚’è¿½ã„ã¯ã‚‰ã†ãã¾ã‚Šã€‚", icon: "ğŸ“£", year: 1825 },
        "1837 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±": { text: "å¤§é˜ªã§äººã³ã¨ã®è‹¦ã—ã•ãŒçˆ†ç™ºã€‚", icon: "âš ï¸", year: 1837 },
        "1841 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©":           { text: "ç”ºã®æ±ºã¾ã‚Šã‚’è¦‹ç›´ã—ã€ãœã„ãŸãã‚’ãŠã•ãˆã‚‹ã€‚", icon: "ğŸ“", year: 1841 }, /* å¤©ä¿=3ï¼ˆã¦ã‚“ã½ï¼‰ */
        "1853 ã€‡ã€‡ã€‡ã€‡ãŒæ¥ã‚‹":         { text: "ã‚¢ãƒ¡ãƒªã‚«ã®èˆ¹ãŒæµ¦è³€ã«æ¥èˆªã€‚", icon: "â›´ï¸", year: 1853 },
        "1854 ã€‡ã€‡ã€‡æ¡ç´„":             { text: "æ—¥æœ¬ã¯æ¸¯ã‚’é–‹ãã€äº¤æµã‚’ã¯ã˜ã‚ã‚‹ã€‚", icon: "ğŸ¤", year: 1854 },
        "1858 ã€‡ã€‡ã€‡ã€‡ã®æ¡ç´„":         { text: "ã„ãã¤ã‹ã®å›½ã¨ã‚€ã™ã³ã€è²¿æ˜“ãŒåºƒãŒã‚‹ã€‚", icon: "ğŸŒ", year: 1858 },
        "1858 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç„":         { text: "æ„è¦‹ã®ã¡ãŒã„ã§å¤šãã®äººãŒå‡¦ç½°ã•ã‚Œã‚‹ã€‚", icon: "âš–ï¸", year: 1858 },
        "1860 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®å¤‰":   { text: "æ”¿æ²»ã®å¯¾ç«‹ãŒäº‹ä»¶ã«ã€‚", icon: "ğŸ—¡ï¸", year: 1860 },
        "1867 ã€‡ã€‡ã€‡ã€‡å¥‰é‚„":           { text: "æ”¿ï¼ˆã¾ã¤ã‚Šã”ã¨ï¼‰ã‚’æœå»·ã«ãŠè¿”ã—ã€‚", icon: "ğŸ—ï¸", year: 1867 },
        "1868 ã€‡ã€‡ã€‡ã¸":               { text: "æ–°ã—ã„æ™‚ä»£ã®ã‚¹ã‚¿ãƒ¼ãƒˆï¼", icon: "ğŸŒ¸", year: 1868 }
      }
    },
    ruby: {
      "1603 ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": "ã€‡ã€‡<ruby>å¹•åºœ<rt>ã°ããµ</rt></ruby>ãŒã¯ã˜ã¾ã‚‹",
      "1615 ã€‡ã€‡ã€‡ã€‡ã®é™£": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>é™£<rt>ã˜ã‚“</rt></ruby>",
      "1635 ã€‡ã€‡ã€‡äº¤ä»£": "ã€‡ã€‡ã€‡<ruby>äº¤ä»£<rt>ã“ã†ãŸã„</rt></ruby>",
      "1637 å³¶ã€‡ã€‡ãƒ»å¤©ã€‡ã€‡ã®ä¹±": "å³¶ã€‡ã€‡ãƒ»å¤©ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1639 ã€‡ã€‡ã€‡ã€‡ã€‡èˆ¹ã®æ¥èˆªç¦æ­¢": "ã€‡ã€‡ã€‡ã€‡ã€‡<ruby>èˆ¹<rt>ã›ã‚“</rt></ruby>ã®<ruby>æ¥èˆª<rt>ã‚‰ã„ã“ã†</rt></ruby><ruby>ç¦æ­¢<rt>ãã‚“ã—</rt></ruby>",
      "1641 ã€‡ã€‡ã€‡ã§ã®è²¿æ˜“": "ã€‡ã€‡ã€‡ã§ã®<ruby>è²¿æ˜“<rt>ã¼ã†ãˆã</rt></ruby>",
      "1657 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç«": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>å¤§ç«<rt>ãŸã„ã‹</rt></ruby>",
      "1657 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã¸ç§»è»¢": "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã¸<ruby>ç§»è»¢<rt>ã„ã¦ã‚“</rt></ruby>",
      "1688 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": "ã€‡ã€‡ã€‡ã€‡<ruby>æ–‡åŒ–<rt>ã¶ã‚“ã‹</rt></ruby>ãŒã•ã‹ãˆã‚‹",
      "1716 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æ”¹é©<rt>ã‹ã„ã‹ã</rt></ruby>",
      "1720 ã€‡ã€‡ã€‡ã€‡ã‚’ã¨ã‚Šã„ã‚Œã‚‹": "ã€‡ã€‡ã€‡ã€‡ã‚’ã¨ã‚Šã„ã‚Œã‚‹",
      "1720 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ã—ãã¿": "ã€‡ã€‡ã€‡ã€‡ã€‡ã®ã—ãã¿",
      "1730 ã€‡ã€‡ã®ãªãŒã‚Œã‚’æ•´ãˆã‚‹": "ã€‡ã€‡ã®ãªãŒã‚Œã‚’<ruby>æ•´ãˆã‚‹<rt>ã¨ã¨ã®ãˆã‚‹</rt></ruby>",
      "1775 ã€‡ã€‡ã€‡ã®æ™‚ä»£": "ã€‡ã€‡ã€‡ã®<ruby>æ™‚ä»£<rt>ã˜ã ã„</rt></ruby>",
      "1783 ã€‡ã€‡ã€‡ã€‡ã®ããã‚“": "ã€‡ã€‡ã€‡ã€‡ã®ããã‚“",
      "1787 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æ”¹é©<rt>ã‹ã„ã‹ã</rt></ruby>",
      "1825 ã€‡ã€‡ã€‡ã€‡ã€‡æ‰“æ‰•ä»¤": "ã€‡ã€‡ã€‡ã€‡ã€‡<ruby>æ‰“æ‰•ä»¤<rt>ã†ã¡ã¯ã‚‰ã„ã‚Œã„</rt></ruby>",
      "1837 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±": "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1841 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æ”¹é©<rt>ã‹ã„ã‹ã</rt></ruby>",
      "1853 ã€‡ã€‡ã€‡ã€‡ãŒæ¥ã‚‹": "ã€‡ã€‡ã€‡ã€‡ãŒ<ruby>æ¥<rt>ã</rt></ruby>ã‚‹",
      "1854 ã€‡ã€‡ã€‡æ¡ç´„": "ã€‡ã€‡ã€‡<ruby>æ¡ç´„<rt>ã˜ã‚‡ã†ã‚„ã</rt></ruby>",
      "1858 ã€‡ã€‡ã€‡ã€‡ã®æ¡ç´„": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æ¡ç´„<rt>ã˜ã‚‡ã†ã‚„ã</rt></ruby>",
      "1858 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç„": "ã€‡ã€‡ã€‡ã€‡ã®<ruby>å¤§ç„<rt>ãŸã„ã”ã</rt></ruby>",
      "1860 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®å¤‰": "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>å¤‰<rt>ã¸ã‚“</rt></ruby>",
      "1867 ã€‡ã€‡ã€‡ã€‡å¥‰é‚„": "ã€‡ã€‡ã€‡ã€‡<ruby>å¥‰é‚„<rt>ã»ã†ã‹ã‚“</rt></ruby>",
      "1868 ã€‡ã€‡ã€‡ã¸": "ã€‡ã€‡ã€‡ã¸"
    },
    blanks: {
      "1603 ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": ["ãˆã©"],
      "1615 ã€‡ã€‡ã€‡ã€‡ã®é™£": ["ãŠãŠã•ã‹"],
      "1635 ã€‡ã€‡ã€‡äº¤ä»£": ["ã•ã‚“ãã‚“"],
      "1637 å³¶ã€‡ã€‡ãƒ»å¤©ã€‡ã€‡ã®ä¹±": ["ã°ã‚‰","ãã•"],
      "1639 ã€‡ã€‡ã€‡ã€‡ã€‡èˆ¹ã®æ¥èˆªç¦æ­¢": ["ã½ã‚‹ã¨ãŒã‚‹"],
      "1641 ã€‡ã€‡ã€‡ã§ã®è²¿æ˜“": ["ã§ã˜ã¾"],
      "1657 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç«": ["ã‚ã„ã‚Œã"],
      "1657 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã¸ç§»è»¢": ["ã—ã‚“ã‚ˆã—ã‚ã‚‰"],
      "1688 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": ["ã’ã‚“ã‚ã"],
      "1716 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©": ["ãã‚‡ã†ã»"],   /* ç°¡ç•¥èª­ã¿ï¼ˆâ€œãã‚‡ã†ã»ã†â€ã§ã¯ãªã â€œãã‚‡ã†ã»â€ï¼‰ */
      "1720 ã€‡ã€‡ã€‡ã€‡ã‚’ã¨ã‚Šã„ã‚Œã‚‹": ["ã‚ˆã†ã—ã‚‡"],
      "1720 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ã—ãã¿": ["ã¾ã¡ã³ã‘ã—"],
      "1730 ã€‡ã€‡ã®ãªãŒã‚Œã‚’æ•´ãˆã‚‹": ["ã‚‚ã®"],
      "1775 ã€‡ã€‡ã€‡ã®æ™‚ä»£": ["ãŸã¬ã¾"],
      "1783 ã€‡ã€‡ã€‡ã€‡ã®ããã‚“": ["ã¦ã‚“ã‚ã„"],
      "1787 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©": ["ã‹ã‚“ã›ã„"],
      "1825 ã€‡ã€‡ã€‡ã€‡ã€‡æ‰“æ‰•ä»¤": ["ã„ã“ãã›ã‚“"],
      "1837 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±": ["ãŠãŠã—ãŠã¸ã„ã¯ã¡ã‚ã†"],
      "1841 ã€‡ã€‡ã€‡ã€‡ã®æ”¹é©": ["ã¦ã‚“ã½ã†"],
      "1853 ã€‡ã€‡ã€‡ã€‡ãŒæ¥ã‚‹": ["ãã‚ãµã­"],
      "1854 ã€‡ã€‡ã€‡æ¡ç´„": ["ã‚ã—ã‚“"],
      "1858 ã€‡ã€‡ã€‡ã€‡ã®æ¡ç´„": ["ã‚ã‚“ã›ã„"],
      "1858 ã€‡ã€‡ã€‡ã€‡ã®å¤§ç„": ["ã‚ã‚“ã›ã„"],
      "1860 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã®å¤‰": ["ã•ãã‚‰ã ã‚‚ã‚“ãŒã„"],
      "1867 ã€‡ã€‡ã€‡ã€‡å¥‰é‚„": ["ãŸã„ã›ã„"],
      "1868 ã€‡ã€‡ã€‡ã¸": ["ã‚ã„ã˜"]
    }
  },

  /* ---------- å®¤ç”ºæ™‚ä»£ ---------- */
  muromachi: {
    title: "å®¤ç”ºæ™‚ä»£",
    LS_KEY: "cards_muromachi_complete_v1",
    chapters: {
      "åˆæœŸï¼ˆå—åŒ—æœã€œï¼‰": {
        "1336 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": { text: "è¶³åˆ©æ°ã®å¹•åºœãŒäº¬éƒ½ã§å§‹ã¾ã‚‹ã€‚", icon: "ğŸ¯", year: 1336 },
        "1392 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡çµ±ä¸€":       { text: "å—æœã¨åŒ—æœãŒã²ã¨ã¤ã«ãªã‚‹ã€‚", icon: "ğŸ¤", year: 1392 }, /* ãªã‚“ã¼ãã¡ã‚‡ã†=6 */
        "1397 ã€‡ã€‡ã€‡ã€‡ãŒå»ºã¦ã‚‰ã‚Œã‚‹":   { text: "ãã‚‰ã³ã‚„ã‹ãªå»ºç‰©ï¼ˆé¹¿è‹‘å¯ºï¼‰ã€‚", icon: "ğŸ¯", year: 1397 },
        "1390 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": { text: "èƒ½ã‚„èŒ¶ã®æ¹¯ãªã©éƒ½ã®æ–‡åŒ–ãŒç™ºå±•ã€‚", icon: "ğŸ­", year: 1390 },
        "1401 ã€‡ã€‡ã€‡ã€‡è²¿æ˜“ãŒã¯ã˜ã¾ã‚‹": { text: "æ˜ã¨ã®å‹˜åˆï¼ˆè¨¼æ˜ï¼‰ã‚’ç”¨ã„ãŸè²¿æ˜“ã€‚", icon: "ğŸ›¶", year: 1401 }
      },
      "ä¸­æœŸï¼ˆæ–‡åŒ–ã¨äº‰ã„ï¼‰": {
        "1439 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±":         { text: "é–¢æ±ã§å¤§ããªæˆ¦ã„ï¼ˆå°†è»å´ã¨å¯¾ç«‹ï¼‰ã€‚", icon: "âš”ï¸", year: 1439 }, /* ãˆã„ãã‚‡ã†=5 */
        "1441 ã€‡ã€‡ã€‡ã®ä¹±":             { text: "å°†è»ãŒè¨ãŸã‚Œã‚‹äº‹ä»¶ï¼ˆèµ¤æ¾æ°ã‚‰ï¼‰ã€‚", icon: "âš ï¸", year: 1441 }, /* ã‹ãã¤=3 */
        "1467 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":           { text: "äº¬éƒ½ãŒè’å»ƒã€ã®ã¡ã®æˆ¦å›½æ™‚ä»£ã¸ã€‚", icon: "ğŸ”¥", year: 1467 }, /* ãŠã†ã«ã‚“=4 */
        "1485 ã€‡ã€‡ã€‡ã€‡å›½ä¸€æ†":         { text: "äººã³ã¨ãŒå”åŠ›ã—ã¦è‡ªæ²»ï¼ˆå±±åŸå›½ï¼‰ã€‚", icon: "ğŸ›¡ï¸", year: 1485 },
        "1489 ã€‡ã€‡ã€‡ã€‡ãŒå»ºã¦ã‚‰ã‚Œã‚‹":   { text: "é™ã‹ãªç¾ï¼ˆæ…ˆç…§å¯ºãƒ»éŠ€é–£ï¼‰ã€‚", icon: "ğŸ¯", year: 1489 },
        "1493 ã€‡ã€‡ã€‡ã€‡ã®æ”¿å¤‰":         { text: "ç´°å·æ°ã®æ”¿å¤‰ã§æ¨©åŠ›ãŒç§»ã‚‹ã€‚", icon: "ğŸŒ€", year: 1493 }
      },
      "å¾ŒæœŸï¼ˆæˆ¦å›½ã®å…¥å£ï¼‰": {
        "1543 ã€‡ã€‡ã€‡ã€‡ä¼æ¥":           { text: "æ–°ã—ã„é“å…·ãŒæ—¥æœ¬ã¸ï¼ˆé‰„ç ²ï¼‰ã€‚", icon: "ğŸ”«", year: 1543 }, /* ã¦ã£ã½ã†=4 */
        "1549 ã€‡ã€‡ã€‡ã€‡æ•™ä¼æ¥":         { text: "ã‚­ãƒªã‚¹ãƒˆæ•™ãŒæ—¥æœ¬ã«åºƒãŒã‚‹ã€‚", icon: "â›ª", year: 1549 },
        "1555 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":       { text: "å³å³¶ã®æˆ¦ã„ã€æ­¦å°†ãŒå‹¢åŠ›æ‹¡å¤§ã€‚", icon: "ğŸ—ºï¸", year: 1555 },
        "1573 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒãŠã‚ã‚‹":   { text: "å°†è»è¿½æ”¾ã§å¹•åºœãŒçµ‚ã‚ã‚Šã¸ã€‚", icon: "ğŸŒ…", year: 1573 }
      }
    },
    ruby: {
      "1336 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": "ã€‡ã€‡ã€‡ã€‡<ruby>å¹•åºœ<rt>ã°ããµ</rt></ruby>ãŒã¯ã˜ã¾ã‚‹",
      "1392 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡çµ±ä¸€":       "ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡<ruby>çµ±ä¸€<rt>ã¨ã†ã„ã¤</rt></ruby>",
      "1397 ã€‡ã€‡ã€‡ã€‡ãŒå»ºã¦ã‚‰ã‚Œã‚‹":   "ã€‡ã€‡ã€‡ã€‡ãŒ<ruby>å»º<rt>ãŸ</rt></ruby>ã¦ã‚‰ã‚Œã‚‹",
      "1390 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": "ã€‡ã€‡ã€‡ã€‡<ruby>æ–‡åŒ–<rt>ã¶ã‚“ã‹</rt></ruby>ãŒã•ã‹ãˆã‚‹",
      "1401 ã€‡ã€‡ã€‡ã€‡è²¿æ˜“ãŒã¯ã˜ã¾ã‚‹": "ã€‡ã€‡ã€‡ã€‡<ruby>è²¿æ˜“<rt>ã¼ã†ãˆã</rt></ruby>ãŒã¯ã˜ã¾ã‚‹",


      "1439 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±":         "ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1441 ã€‡ã€‡ã€‡ã®ä¹±":             "ã€‡ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1467 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":           "ã€‡ã€‡ã€‡ã€‡ã®<ruby>ä¹±<rt>ã‚‰ã‚“</rt></ruby>",
      "1485 ã€‡ã€‡ã€‡ã€‡å›½ä¸€æ†": "ã€‡ã€‡ã€‡ã€‡<ruby>å›½<rt>ãã«</rt></ruby><ruby>ä¸€æ†<rt>ã„ã£ã</rt></ruby>",
      "1489 ã€‡ã€‡ã€‡ã€‡ãŒå»ºã¦ã‚‰ã‚Œã‚‹":   "ã€‡ã€‡ã€‡ã€‡ãŒ<ruby>å»º<rt>ãŸ</rt></ruby>ã¦ã‚‰ã‚Œã‚‹",
      "1493 ã€‡ã€‡ã€‡ã€‡ã®æ”¿å¤‰":         "ã€‡ã€‡ã€‡ã€‡ã®<ruby>æ”¿å¤‰<rt>ã›ã„ã¸ã‚“</rt></ruby>",

      "1543 ã€‡ã€‡ã€‡ã€‡ä¼æ¥":           "ã€‡ã€‡ã€‡ã€‡<ruby>ä¼æ¥<rt>ã§ã‚“ã‚‰ã„</rt></ruby>",
      "1549 ã€‡ã€‡ã€‡ã€‡æ•™ä¼æ¥": "ã€‡ã€‡ã€‡ã€‡<ruby>æ•™<rt>ãã‚‡ã†</rt></ruby><ruby>ä¼æ¥<rt>ã§ã‚“ã‚‰ã„</rt></ruby>",
      "1555 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":       "ã€‡ã€‡ã€‡ã€‡ã€‡ã®<ruby>æˆ¦<rt>ãŸãŸã‹</rt></ruby>ã„",
      "1573 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒãŠã‚ã‚‹":   "ã€‡ã€‡ã€‡ã€‡<ruby>å¹•åºœ<rt>ã°ããµ</rt></ruby>ãŒ<ruby>çµ‚<rt>ãŠ</rt></ruby>ã‚ã‚‹"
    },
    blanks: {
      "1336 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒã¯ã˜ã¾ã‚‹": ["ã‚€ã‚ã¾ã¡"],
      "1392 ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡çµ±ä¸€":       ["ãªã‚“ã¼ãã¡ã‚‡ã†"],
      "1397 ã€‡ã€‡ã€‡ã€‡ãŒå»ºã¦ã‚‰ã‚Œã‚‹":   ["ãã‚“ã‹ã"],
      "1390 ã€‡ã€‡ã€‡ã€‡æ–‡åŒ–ãŒã•ã‹ãˆã‚‹": ["ããŸã‚„ã¾"],
      "1401 ã€‡ã€‡ã€‡ã€‡è²¿æ˜“ãŒã¯ã˜ã¾ã‚‹": ["ã‹ã‚“ã”ã†"],

      "1439 ã€‡ã€‡ã€‡ã€‡ã€‡ã®ä¹±":         ["ãˆã„ãã‚‡ã†"],
      "1441 ã€‡ã€‡ã€‡ã®ä¹±":             ["ã‹ãã¤"],
      "1467 ã€‡ã€‡ã€‡ã€‡ã®ä¹±":           ["ãŠã†ã«ã‚“"],
      "1485 ã€‡ã€‡ã€‡ã€‡å›½ä¸€æ†":         ["ã‚„ã¾ã—ã‚"],
      "1489 ã€‡ã€‡ã€‡ã€‡ãŒå»ºã¦ã‚‰ã‚Œã‚‹":   ["ãã‚“ã‹ã"],
      "1493 ã€‡ã€‡ã€‡ã€‡ã®æ”¿å¤‰":         ["ã‚ã„ãŠã†"],

      "1543 ã€‡ã€‡ã€‡ã€‡ä¼æ¥":           ["ã¦ã£ã½ã†"],
      "1549 ã€‡ã€‡ã€‡ã€‡æ•™ä¼æ¥":         ["ãã‚Šã™ã¨"],
      "1555 ã€‡ã€‡ã€‡ã€‡ã€‡ã®æˆ¦ã„":       ["ã„ã¤ãã—ã¾"],
      "1573 ã€‡ã€‡ã€‡ã€‡å¹•åºœãŒãŠã‚ã‚‹":   ["ã‚€ã‚ã¾ã¡"]
    }
  }
};

/* ========= å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ ========= */
const eraSelect = document.getElementById("eraSelect");
const chapterFilter = document.getElementById("chapterFilter");
const infoBox = document.getElementById("info");
const town = document.getElementById("town");
const zukanPanel = document.getElementById("zukanPanel");
const zukanList = document.getElementById("zukanList");
const completeMsg = document.getElementById("completeMsg");
const zukanBtn = document.getElementById("zukanBtn");
const closeZukan = document.getElementById("closeZukan");
const resetBtn = document.getElementById("resetBtn");

const quizModal  = document.getElementById("quizModal");
const quizTitle  = document.getElementById("quizTitle");
const quizHint   = document.getElementById("quizHint");
const quizInput  = document.getElementById("quizInput");
const quizOk     = document.getElementById("quizOk");
const quizCancel = document.getElementById("quizCancel");
const quizBg     = document.getElementById("quizBg");

let currentEra = "edo";
let gotCards = {}; // ç¾åœ¨ã®æ™‚ä»£ã®é€²æ—

function onlyHiraAndSep(s){ return /^[\u3041-\u3096\sãƒ»,ï¼Œã€/ï¼]+$/.test(s); }
function splitTokens(ans){
  let s = ans.replace(/[ãƒ»,ï¼Œã€/ï¼]+/g, ' ');
  s = s.replace(/\s+/g, ' ').trim();
  return s ? s.split(' ') : [];
}
function persist(){ try { localStorage.setItem(dataSets[currentEra].LS_KEY, JSON.stringify(gotCards)); } catch(e){} }
function loadProgress(){
  const raw = localStorage.getItem(dataSets[currentEra].LS_KEY);
  try{ gotCards = raw ? JSON.parse(raw) : {}; } catch{ gotCards = {}; }
}

/* ========= è¡¨ç¤ºæ§‹ç¯‰ ========= */
function withRubyMasked(fullName){
  const m = dataSets[currentEra].ruby[fullName];
  if(m) {
    const sp = fullName.indexOf(" ");
    const year = fullName.slice(0, sp);
    return `<span class="yr">${year}</span> ${m}`;
  }
  return fullName;
}

function buildChapterFilter(){
  chapterFilter.innerHTML = `<option value="ALL">ç« ï¼šãœã‚“ã¶</option>`;
  const chapters = dataSets[currentEra].chapters;
  Object.keys(chapters).forEach(ch=>{
    chapterFilter.innerHTML += `<option value="${ch}">${ch}</option>`;
  });
}

function buildCards(){
  const wrap = document.getElementById("cards");
  wrap.innerHTML = "";
  const sel = chapterFilter.value;
  const chapters = dataSets[currentEra].chapters;
  Object.keys(chapters).forEach(ch=>{
    if(sel!=="ALL" && sel!==ch) return;
    for(const name in chapters[ch]){
      const el = document.createElement("div");
      el.className = "card";
      el.dataset.card = name;
      if(gotCards[name]) { el.innerHTML = withRubyMasked(name); el.classList.add("done"); }
      else {
        // ãƒ’ãƒ³ãƒˆã¨ã—ã¦å¹´ã ã‘è¦‹ã›ã‚‹
        el.textContent = "ï¼Ÿ\n" + name.split(" ")[0];
      }
      el.addEventListener("click", ()=>onCardClick(el, name, ch));
      wrap.appendChild(el);
    }
  });
}

function renderZukan(){
  zukanList.innerHTML = "";
  let allComplete = true;
  const chapters = dataSets[currentEra].chapters;
  for(const ch in chapters){
    const section = document.createElement("div");
    section.className = "zukanSec";
    section.innerHTML = `<h3>${ch}</h3>`;
    for(const name in chapters[ch]){
      const div = document.createElement("div");
      div.className = "zCard";
      if(gotCards[name]){
        div.innerHTML = withRubyMasked(name);
      }else{
        div.textContent = "ï¼Ÿï¼Ÿï¼Ÿ";
        div.classList.add("locked");
        allComplete = false;
      }
      section.appendChild(div);
    }
    zukanList.appendChild(section);
  }
  if(allComplete){
    completeMsg.textContent = `ğŸ‰ ${dataSets[currentEra].title}ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆï¼ãŠã‚ã§ã¨ã†ï¼ ğŸ‰`;
    launchPetals();
  }else{
    completeMsg.textContent = "";
  }
}

function launchPetals(){
  for(let i=0;i<24;i++){
    const p=document.createElement("div");
    p.className="petal";
    p.textContent="ğŸŒ¸";
    p.style.left = Math.random()*100 + "vw";
    p.style.animationDuration = (3 + Math.random()*3) + "s";
    document.body.appendChild(p);
    setTimeout(()=>p.remove(), 7000);
  }
}

/* ========= ã‚¯ã‚¤ã‚ºï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰ ========= */
let quizCtx = { card:null, name:"", ch:"", expected:[] };

function openQuiz(card, name, ch){
  const expected = dataSets[currentEra].blanks[name];
  if(!expected){ alert("ã“ã®ã‚«ãƒ¼ãƒ‰ã®ç©ºæ¬„ç­”ãˆãŒæœªç™»éŒ²ã§ã™"); return; }
  quizCtx = { card, name, ch, expected };

  quizTitle.innerHTML = withRubyMasked(name);
  quizHint.textContent = expected.length >= 2
    ? `ç©ºæ¬„ã¯ ${expected.length} ã“ã€‚é †ç•ªã«å…¥åŠ›ã—ã¦ã­`
    : `ç©ºæ¬„ã¯ 1 ã“ã€‚ä¾‹ï¼šãˆã©`;

  quizModal.classList.add("active");
  quizModal.setAttribute("aria-hidden","false");
  quizInput.value = "";
  setTimeout(()=>quizInput.focus(), 50);
}
function closeQuiz(){
  quizModal.classList.remove("active");
  quizModal.setAttribute("aria-hidden","true");
}

function submitQuiz(){
  const { card, name, ch, expected } = quizCtx;
  if(!card) return;
  const raw = quizInput.value.trim();
  if(!onlyHiraAndSep(raw)){
    alert("ã²ã‚‰ãŒãª ã ã‘ã§å…¥åŠ›ã—ã¦ã­ï¼ˆåŒºåˆ‡ã‚Šã¯ ã‚¹ãƒšãƒ¼ã‚¹/ãƒ»/ã€/ï¼Œ/ï¼ ã ã‘OKï¼‰");
    quizInput.focus(); return;
  }
  const tokens = splitTokens(raw);
  const joined = tokens.join("");
  const expectJoined = expected.join("");

  let ok = false;
  if(tokens.length === expected.length){
    ok = tokens.every((t,i)=>t === expected[i]);
  }else if(tokens.length === 1){
    ok = joined === expectJoined; // ã¾ã¨ã‚å…¥åŠ›OK
  }

  if(!ok){
    alert(`ã–ã‚“ã­ã‚“ï¼ã›ã„ã‹ã„ã¯ã€Œ${expected.join(" ãƒ» ")}ã€ã ã‚ˆï¼ˆã€‡ã®éƒ¨åˆ†ã ã‘ï¼‰`);
    quizInput.focus();
    return;
  }

  // æ­£è§£å‡¦ç†
  closeQuiz();
  const data = dataSets[currentEra].chapters[ch][name];
  card.innerHTML = withRubyMasked(name);
  card.classList.add("done");
  infoBox.textContent = data.text;

  const b = document.createElement("div");
  b.className = "building";
  b.textContent = data.icon;
  b.style.left = (Math.random()*80 + 5) + "%";
  b.style.top  = (Math.random()*70 + 5) + "%";
  town.appendChild(b);
  setTimeout(()=>b.classList.add("show"),50);

  const v = document.createElement("div");
  v.className = "villager";
  v.textContent = Math.random()>0.5 ? "ğŸ˜Š" : "ğŸ‘˜";
  v.style.top = Math.floor(Math.random()*(town.clientHeight-40)) + "px";
  town.appendChild(v);

  gotCards[name] = true;
  persist();
  renderZukan();
}

function onCardClick(card, name, ch){
  if(card.classList.contains("done")) return;
  openQuiz(card, name, ch);
}

/* ========= ã‚¤ãƒ™ãƒ³ãƒˆ ========= */
zukanBtn.addEventListener("click", ()=>{
  const active = !zukanPanel.classList.contains("active");
  zukanPanel.classList.toggle("active");
  zukanPanel.setAttribute("aria-hidden", active ? "false" : "true");
  zukanBtn.setAttribute("aria-expanded", String(active));
});
closeZukan.addEventListener("click", ()=>{
  zukanPanel.classList.remove("active");
  zukanPanel.setAttribute("aria-hidden","true");
  zukanBtn.setAttribute("aria-expanded","false");
});
chapterFilter.addEventListener("change", buildCards);

resetBtn.addEventListener("click", ()=>{
  if(!confirm(`${dataSets[currentEra].title}ã®é€²æ—ï¼ˆé–‹ã„ãŸã‚«ãƒ¼ãƒ‰ãƒ»ç”ºã¥ãã‚Šï¼‰ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ`)) return;
  localStorage.removeItem(dataSets[currentEra].LS_KEY);
  gotCards = {};
  document.querySelectorAll("#town .building, #town .villager").forEach(el=>el.remove());
  infoBox.textContent = "æ™‚ä»£ã‚’ãˆã‚‰ã‚“ã§ã‚«ãƒ¼ãƒ‰ã‚’ã‚ãã‚ã†ï¼ ã€‡ã®éƒ¨åˆ†ã ã‘ã‚’ã€Œã²ã‚‰ãŒãªã€ã§ç­”ãˆã‚‹ã¨é–‹ãã‚ˆã€‚";
  zukanPanel.classList.remove("active");
  zukanPanel.setAttribute("aria-hidden","true");
  zukanBtn.setAttribute("aria-expanded","false");
  buildCards();
  renderZukan();
  alert("ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸï¼");
});

quizOk.addEventListener("click", submitQuiz);
quizCancel.addEventListener("click", closeQuiz);
quizBg.addEventListener("click", closeQuiz);
quizInput.addEventListener("keydown", (e)=>{
  if(e.key === "Enter") submitQuiz();
  if(e.key === "Escape") closeQuiz();
});

eraSelect.addEventListener("change", ()=>{
  currentEra = eraSelect.value;
  // ç”»é¢åˆæœŸåŒ–
  document.querySelectorAll("#town .building, #town .villager").forEach(el=>el.remove());
  loadProgress();
  buildChapterFilter();
  buildCards();
  renderZukan();
});

/* ========= åˆæœŸæç”» ========= */
loadProgress();
buildChapterFilter();
buildCards();
renderZukan();

// ä¿å­˜å¾©å…ƒï¼ˆå»ºç‰©ï¼†ä½äººï¼‰
(function restoreTown(){
  const chapters = dataSets[currentEra].chapters;
  for(const ch in chapters){
    for(const name in chapters[ch]){
      if(!gotCards[name]) continue;
      const item = chapters[ch][name];
      const b = document.createElement("div");
      b.className = "building show";
      b.textContent = item.icon;
      b.style.left = (Math.random()*80 + 5) + "%";
      b.style.top = (Math.random()*70 + 5) + "%";
      town.appendChild(b);
      const v = document.createElement("div");
      v.className = "villager";
      v.textContent = Math.random()>0.5 ? "ğŸ˜Š" : "ğŸ‘˜";
      v.style.top = Math.floor(Math.random()* (town.clientHeight-40)) + "px";
      town.appendChild(v);
    }
  }
})();
</script>

<!--
  å›ºå®šã®ãƒãƒŠãƒ¼åºƒå‘Šã‚’ä½¿ã†å ´åˆã¯ã€.adslot ã®ä¸­èº«ã‚’ã‚ãªãŸã®åºƒå‘Šãƒ¦ãƒ‹ãƒƒãƒˆã«ç½®æ›ã—ã€
  ç›´å¾Œã§ (adsbygoogle = window.adsbygoogle || []).push({}); ã‚’å‘¼ã³å‡ºã—ã¦ãã ã•ã„ã€‚
-->
  <p style="padding:0 12px;">
  <strong>å­ã©ã‚‚å‘ã‘ æ­´å² å­¦ç¿’</strong>ã¨ã—ã¦ã€ã¾ãšã¯
  <a href="#cards">æ±Ÿæˆ¸æ™‚ä»£ã®ã‚¯ã‚¤ã‚º</a>ã¨
  <a href="#cards">å®¤ç”ºæ™‚ä»£ã®ã‚¯ã‚¤ã‚º</a>ã‹ã‚‰å§‹ã‚ã¦ã¿ã‚ˆã†ã€‚å›³é‘‘ã§
  <a href="#zukanPanel">å¹´è¡¨</a>ã‚‚ç¢ºèªã§ãã‚‹ã‚ˆã€‚
</p>


</body>
</html>

















